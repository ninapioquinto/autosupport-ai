{
  "name": "Email Automation",
  "flow": [
    {
      "id": 2,
      "module": "email:TriggerNewEmail",
      "version": 7,
      "parameters": {
        "account": 3333333,
        "criteria": "UNSEEN",
        "from": "Nina@automationcrmexpert.com",
        "to": "",
        "subject": "",
        "text": "",
        "markSeen": 3333333,
        "maxResults": 3333333,
        "folder": "INBOX"
      },
      "mapper": {},
      "metadata": {
        "designer": {
          "x": 301,
          "y": 447
        },
        "restore": {
          "parameters": {
            "account": {
              "label": "My Google Restricted connection (Nina@automationcrmexpert.com)",
              "data": {
                "scoped": "true",
                "connection": "google-restricted"
              }
            },
            "criteria": {
              "label": "Only Unread emails"
            },
            "folder": {
              "path": [
                "INBOX"
              ]
            }
          }
        },
        "parameters": [
          {
            "name": "account",
            "type": "account:imap,google-restricted,microsoft-smtp-imap",
            "label": "Connection",
            "required": true
          },
          {
            "name": "criteria",
            "type": "select",
            "label": "Criteria",
            "required": true,
            "validate": {
              "enum": [
                "ALL",
                "SEEN",
                "UNSEEN"
              ]
            }
          },
          {
            "name": "from",
            "type": "email",
            "label": "Sender email address"
          },
          {
            "name": "to",
            "type": "email",
            "label": "Recipient email address"
          },
          {
            "name": "subject",
            "type": "text",
            "label": "Subject"
          },
          {
            "name": "text",
            "type": "text",
            "label": "Phrase"
          },
          {
            "name": "markSeen",
            "type": "boolean",
            "label": "Mark message(s) as read when fetched"
          },
          {
            "name": "maxResults",
            "type": "number",
            "label": "Maximum number of results"
          },
          {
            "type": "hidden"
          },
          {
            "name": "folder",
            "type": "folder",
            "label": "Folder",
            "required": true
          }
        ]
      }
    },
    {
      "id": 3,
      "module": "openai-gpt-3:CreateCompletion",
      "version": 1,
      "parameters": {
        "__IMTCONN__": 1111111
      },
      "mapper": {
        "select": "chat",
        "temperature": "1",
        "top_p": "1",
        "n_completions": "1",
        "model": "gpt-4o-mini",
        "max_tokens": "2048",
        "messages": [
          {
            "role": "system",
            "content": "**Role**\nYou are an expert text analyser, highly capable of deeply analysing text and classifying it.\n\n**Context**\nYou are an email classification agent for {Company name & description}\n\nYou monitor their customer support email.\n\n**Task**\nAnalyse the content of an email and identify if it is either:\n1. A customer support related email.\n\nor \n\n2. NOT a customer support email.\n\nYou are to scan the text and try to identify if it is a customer or potential customer making an inquiry.\n\nIF IT IS a customer support inquiry, then please output \"1\"\n\nIf it IS NOT, output \"2\".\n\n\u200b"
          },
          {
            "role": "system",
            "content": "Only ouput either \"1\" or \"2\".\n\nNo other text"
          },
          {
            "role": "user",
            "content": "This email has just came through: please analyse it and identify if it is a customer support inquiry: \n\nEmail Subject: {{2.subject}}\nEmail body: {{2.text}}\nSender name: {{2.from.name}}\nSender email: {{2.from.address}}",
            "imageDetail": "auto"
          },
          {
            "role": "system",
            "content": "You are dealing with all types of customer related emails: they could be as basic as a thank you, a job request or a high priority escalation.\n\nAnything related to luxora trends,m products, deliveries is all customer related questions"
          },
          {
            "role": "system",
            "content": "Here are some example of customer inuqiries that you should ouput \"1\"\n\n\"Hey, just wanted to say thanks for my order. It arrived today and looks great!\"\n\"Hi, what are your opening hours? I\u2019d like to visit or call soon.\"\n\"URGENT \u2013 My order hasn\u2019t arrived yet, and I need it ASAP! Can you check what\u2019s happening?\"\n\"Can I change the delivery address for my order? I made a mistake when placing it.\"\n\"Hi, I\u2019m interested in one of your products but have some questions before purchasing. Can you help?\"\n\"Hello, my package arrived, but one of the items is damaged. How can I get a replacement?\"\n\"Hi, do you offer bulk discounts? I\u2019m planning to order in large quantities.\"\"Hello, I\u2019d like to cancel my subscription. What\u2019s the process for doing this?\"\n\"Can you confirm that my payment has gone through? I haven\u2019t received a confirmation email.\"\n\"Hi, I want to return an item I purchased. Can you let me know how returns work?\"\n\"Hello, I noticed there\u2019s a sale starting soon. Will my recent purchase qualify for the discount?\"\n\"Hi, the tracking link you provided isn\u2019t working. Can you help me track my package?\"\n\"Hey, I\u2019ve been loving the product I bought and was wondering if you have a referral program?\"\n\"Hi, do you ship internationally? I\u2019m based in [country] and couldn\u2019t find this information on your site.\"\n\"Hello, I accidentally ordered the wrong size. Is it possible to change my order before it\u2019s shipped?\""
          }
        ],
        "response_format": "text"
      },
      "metadata": {
        "designer": {
          "x": 592,
          "y": 450
        },
        "restore": {
          "parameters": {
            "__IMTCONN__": {
              "label": "Nina OpenAI",
              "data": {
                "scoped": "true",
                "connection": "openai-gpt-3"
              }
            }
          },
          "expect": {
            "select": {
              "label": "Create a Chat Completion (GPT and o1 models)"
            },
            "logit_bias": {
              "mode": "chose"
            },
            "stop": {
              "mode": "chose"
            },
            "additionalParameters": {
              "mode": "chose"
            },
            "model": {
              "mode": "chose",
              "label": "gpt-4o-mini (system)"
            },
            "messages": {
              "mode": "chose",
              "items": [
                {
                  "role": {
                    "mode": "chose",
                    "label": "Developer / System"
                  }
                },
                {
                  "role": {
                    "mode": "chose",
                    "label": "Developer / System"
                  }
                },
                {
                  "role": {
                    "mode": "chose",
                    "label": "User"
                  },
                  "imageInputType": {
                    "mode": "chose",
                    "label": "Empty"
                  },
                  "imageDetail": {
                    "mode": "chose",
                    "label": "Auto"
                  }
                },
                {
                  "role": {
                    "mode": "chose",
                    "label": "Developer / System"
                  }
                },
                {
                  "role": {
                    "mode": "chose",
                    "label": "Developer / System"
                  }
                }
              ]
            },
            "response_format": {
              "mode": "chose",
              "label": "Text"
            }
          }
        },
        "parameters": [
          {
            "name": "__IMTCONN__",
            "type": "account:openai-gpt-3",
            "label": "Connection",
            "required": true
          }
        ],
        "expect": [
          {
            "name": "select",
            "type": "select",
            "label": "Select Method",
            "required": true,
            "validate": {
              "enum": [
                "chat",
                "prompt"
              ]
            }
          },
          {
            "name": "temperature",
            "type": "number",
            "label": "Temperature",
            "validate": {
              "max": 2,
              "min": 0
            }
          },
          {
            "name": "top_p",
            "type": "number",
            "label": "Top P",
            "validate": {
              "max": 1,
              "min": 0
            }
          },
          {
            "name": "n_completions",
            "type": "number",
            "label": "Number"
          },
          {
            "name": "frequency_penalty",
            "type": "number",
            "label": "Frequency Penalty",
            "validate": {
              "max": 2,
              "min": -2
            }
          },
          {
            "name": "presence_penalty",
            "type": "number",
            "label": "Presence Penalty",
            "validate": {
              "max": 2,
              "min": -2
            }
          },
          {
            "name": "logit_bias",
            "type": "array",
            "label": "Token Probability",
            "spec": {
              "spec": [
                {
                  "name": "token",
                  "type": "text",
                  "label": "Token ID",
                  "required": true
                },
                {
                  "name": "probability",
                  "type": "number",
                  "label": "Probability",
                  "required": true,
                  "validate": {
                    "max": 100,
                    "min": -100
                  }
                }
              ],
              "type": "collection",
              "label": "Token Probability",
              "name": "value"
            }
          },
          {
            "name": "seed",
            "type": "integer",
            "label": "Seed"
          },
          {
            "name": "stop",
            "type": "array",
            "label": "Stop Sequences",
            "validate": {
              "maxItems": 4
            },
            "spec": {
              "type": "text",
              "label": "Stop Sequence",
              "name": "value"
            }
          },
          {
            "name": "additionalParameters",
            "type": "array",
            "label": "Other Input Parameters",
            "spec": {
              "spec": [
                {
                  "name": "key",
                  "type": "text",
                  "label": "Parameter Name",
                  "required": true
                },
                {
                  "name": "type",
                  "type": "select",
                  "label": "Input Type",
                  "options": [
                    {
                      "label": "Text",
                      "value": "text",
                      "nested": [
                        {
                          "name": "value",
                          "type": "text",
                          "label": "Parameter Value"
                        }
                      ],
                      "default": true
                    },
                    {
                      "label": "Number",
                      "value": "number",
                      "nested": [
                        {
                          "name": "value",
                          "type": "number",
                          "label": "Parameter Value"
                        }
                      ]
                    },
                    {
                      "label": "Boolean",
                      "value": "boolean",
                      "nested": [
                        {
                          "name": "value",
                          "type": "boolean",
                          "label": "Parameter Value"
                        }
                      ]
                    },
                    {
                      "label": "Date",
                      "value": "date",
                      "nested": [
                        {
                          "name": "value",
                          "type": "date",
                          "label": "Parameter Value"
                        }
                      ]
                    },
                    {
                      "label": "Any",
                      "value": "any",
                      "nested": [
                        {
                          "name": "value",
                          "type": "any",
                          "label": "Parameter Value"
                        }
                      ]
                    }
                  ]
                }
              ],
              "type": "collection",
              "label": "Input Parameter",
              "name": "value"
            }
          },
          {
            "name": "model",
            "type": "select",
            "label": "Model",
            "required": true
          },
          {
            "name": "max_tokens",
            "type": "uinteger",
            "label": "Max Completion Tokens"
          },
          {
            "name": "messages",
            "type": "array",
            "label": "Messages",
            "required": true,
            "spec": {
              "label": "Message",
              "type": "collection",
              "spec": [
                {
                  "name": "role",
                  "type": "select",
                  "label": "Role",
                  "required": true,
                  "options": {
                    "store": [
                      {
                        "label": "Developer / System",
                        "value": "system",
                        "nested": [
                          {
                            "help": "Text content of the message on behalf of the selected __Role__.",
                            "name": "content",
                            "type": "text",
                            "label": "Text Content"
                          }
                        ]
                      },
                      {
                        "label": "User",
                        "value": "user",
                        "nested": [
                          {
                            "help": "Text content of the message on behalf of the selected __Role__.",
                            "name": "content",
                            "type": "text",
                            "label": "Text Content"
                          },
                          {
                            "name": "imageInputType",
                            "type": "select",
                            "label": "Image Input Type",
                            "mappable": false,
                            "options": [
                              {
                                "value": "url",
                                "label": "URL",
                                "nested": [
                                  {
                                    "name": "imageUrl",
                                    "label": "Image URL",
                                    "type": "url",
                                    "help": "Make sure to use a publicly accessible URL.\nYou can test if your image is publicly accessible by opening the link in an incognito tab."
                                  }
                                ]
                              },
                              {
                                "value": "file",
                                "label": "Image File",
                                "nested": [
                                  {
                                    "name": "imageFile",
                                    "label": "Image",
                                    "type": "collection",
                                    "spec": [
                                      {
                                        "name": "imageFilename",
                                        "type": "filename",
                                        "label": "Image Filename",
                                        "semantic": "file:name",
                                        "extension": [
                                          "jpg",
                                          "jpeg",
                                          "png",
                                          "webp",
                                          "gif"
                                        ],
                                        "help": "Accepted extensions: `.jpg`, `.jpeg`, `.png`, `.webp` and `.gif`."
                                      },
                                      {
                                        "name": "imageData",
                                        "type": "buffer",
                                        "label": "Image Data",
                                        "semantic": "file:data"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "name": "imageDetail",
                            "type": "select",
                            "label": "Image Detail",
                            "advanced": true,
                            "options": [
                              {
                                "value": "auto",
                                "default": true,
                                "label": "Auto"
                              },
                              {
                                "value": "high",
                                "label": "High"
                              },
                              {
                                "value": "low",
                                "label": "Low"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "label": "Assistant",
                        "value": "assistant",
                        "nested": [
                          {
                            "help": "Text content of the message on behalf of the selected __Role__.",
                            "name": "content",
                            "type": "text",
                            "label": "Text Content"
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "name": "value"
            }
          },
          {
            "name": "response_format",
            "type": "select",
            "label": "Response Format",
            "validate": {
              "enum": [
                "text",
                "json_object"
              ]
            }
          }
        ],
        "interface": [
          {
            "name": "result",
            "type": "any",
            "label": "Result"
          },
          {
            "name": "id",
            "type": "text",
            "label": "ID"
          },
          {
            "name": "object",
            "type": "text",
            "label": "Object"
          },
          {
            "name": "created",
            "type": "date",
            "label": "Created"
          },
          {
            "name": "model",
            "type": "text",
            "label": "Model"
          },
          {
            "name": "choices",
            "spec": {
              "spec": [
                {
                  "name": "text",
                  "type": "text",
                  "label": "Text"
                },
                {
                  "name": "index",
                  "type": "number",
                  "label": "Index"
                },
                {
                  "name": "logprobs",
                  "type": "text",
                  "label": "Log Probs"
                },
                {
                  "name": "finish_reason",
                  "type": "text",
                  "label": "Finish Reason"
                },
                {
                  "name": "message",
                  "spec": [
                    {
                      "name": "role",
                      "type": "text",
                      "label": "Role"
                    },
                    {
                      "name": "content",
                      "type": "text",
                      "label": "Content"
                    },
                    {
                      "name": "refusal",
                      "type": "text",
                      "label": "Refusal"
                    }
                  ],
                  "type": "collection",
                  "label": "Message"
                }
              ],
              "type": "collection"
            },
            "type": "array",
            "label": "Choices"
          },
          {
            "name": "usage",
            "spec": [
              {
                "name": "prompt_tokens",
                "type": "number",
                "label": "Prompt Tokens"
              },
              {
                "name": "completion_tokens",
                "type": "text",
                "label": "Completion Tokens"
              },
              {
                "name": "total_tokens",
                "type": "number",
                "label": "Total Tokens"
              },
              {
                "name": "prompt_tokens_details",
                "spec": [
                  {
                    "name": "cached_tokens",
                    "type": "uinteger",
                    "label": "Cached Tokens"
                  },
                  {
                    "name": "text_tokens",
                    "type": "uinteger",
                    "label": "Text Tokens"
                  },
                  {
                    "name": "image_tokens",
                    "type": "uinteger",
                    "label": "Image Tokens"
                  },
                  {
                    "name": "audio_tokens",
                    "type": "uinteger",
                    "label": "Audio Tokens"
                  }
                ],
                "type": "collection",
                "label": "Prompt Tokens Details"
              },
              {
                "name": "completion_tokens_details",
                "spec": [
                  {
                    "name": "reasoning_tokens",
                    "type": "uinteger",
                    "label": "Reasoning Tokens"
                  },
                  {
                    "name": "text_tokens",
                    "type": "uinteger",
                    "label": "Text Tokens"
                  },
                  {
                    "name": "audio_tokens",
                    "type": "uinteger",
                    "label": "Audio Tokens"
                  },
                  {
                    "name": "accepted_prediction_tokens",
                    "type": "uinteger",
                    "label": "Accepted Prediction Tokens"
                  },
                  {
                    "name": "rejected_prediction_tokens",
                    "type": "uinteger",
                    "label": "Rejected Prediction Tokens"
                  }
                ],
                "type": "collection",
                "label": "Completion Tokens Details"
              }
            ],
            "type": "collection",
            "label": "Usage"
          },
          {
            "name": "system_fingerprint",
            "type": "text",
            "label": "System Fingerprint"
          }
        ]
      }
    },
    {
      "id": 6,
      "module": "openai-gpt-3:CreateCompletion",
      "version": 1,
      "parameters": {
        "__IMTCONN__": 1111111
      },
      "filter": {
        "name": " a customer inquiry",
        "conditions": [
          [
            {
              "a": "{{3.result}}",
              "b": "1",
              "o": "number:equal"
            }
          ]
        ]
      },
      "mapper": {
        "select": "chat",
        "temperature": "1",
        "top_p": "1",
        "n_completions": "1",
        "model": "gpt-4o-mini",
        "max_tokens": "2048",
        "messages": [
          {
            "role": "system",
            "content": "**Role**\nYou are an expert text analyser, highly capable of deeply analysing text and classifying it.\n\n**Context**\nYou are an email classification agent for {Company name & Description}\n\nYou monitor their customer support email.\n\n**Task**\nAnalyse the content of an email and identify if it is either:\n\n1.  High Priority:(Not a question but an escalation)\n\n2. Medium Priority: Neutral sentiment ( generic inquiries and questions).\n\n3. Low Priority: Positive sentiment (e.g., compliments, follow-ups).\n\nWhen you have decided, you must output either \n\n\"1:\" High priority (escalations)\n\"2\": Medium Priority (questions)\n\"3\": Low Priority (compliments or follow-ups)\n\n\u200b"
          },
          {
            "role": "system",
            "content": "Only output either \"1\" \"2\" or \"3\" No othert text.\n\nIt much match the corresponding prioirty category as mentioned.\n\n\"2\" will nealry always be a question"
          },
          {
            "role": "user",
            "content": "Analyse this customer inquiry and determine it's prioity:\n\nSubject: {{2.subject}}\nBody: {{2.text}}",
            "imageDetail": "auto"
          }
        ],
        "response_format": "text"
      },
      "metadata": {
        "designer": {
          "x": 908,
          "y": 447
        },
        "restore": {
          "parameters": {
            "__IMTCONN__": {
              "label": "Nina OpenAI",
              "data": {
                "scoped": "true",
                "connection": "openai-gpt-3"
              }
            }
          },
          "expect": {
            "select": {
              "label": "Create a Chat Completion (GPT and o1 models)"
            },
            "logit_bias": {
              "mode": "chose"
            },
            "stop": {
              "mode": "chose"
            },
            "additionalParameters": {
              "mode": "chose"
            },
            "model": {
              "mode": "chose",
              "label": "gpt-4o-mini (system)"
            },
            "messages": {
              "mode": "chose",
              "items": [
                {
                  "role": {
                    "mode": "chose",
                    "label": "Developer / System"
                  }
                },
                {
                  "role": {
                    "mode": "chose",
                    "label": "Developer / System"
                  }
                },
                {
                  "role": {
                    "mode": "chose",
                    "label": "User"
                  },
                  "imageInputType": {
                    "mode": "chose",
                    "label": "Empty"
                  },
                  "imageDetail": {
                    "mode": "chose",
                    "label": "Auto"
                  }
                }
              ]
            },
            "response_format": {
              "mode": "chose",
              "label": "Text"
            }
          }
        },
        "parameters": [
          {
            "name": "__IMTCONN__",
            "type": "account:openai-gpt-3",
            "label": "Connection",
            "required": true
          }
        ],
        "expect": [
          {
            "name": "select",
            "type": "select",
            "label": "Select Method",
            "required": true,
            "validate": {
              "enum": [
                "chat",
                "prompt"
              ]
            }
          },
          {
            "name": "temperature",
            "type": "number",
            "label": "Temperature",
            "validate": {
              "max": 2,
              "min": 0
            }
          },
          {
            "name": "top_p",
            "type": "number",
            "label": "Top P",
            "validate": {
              "max": 1,
              "min": 0
            }
          },
          {
            "name": "n_completions",
            "type": "number",
            "label": "Number"
          },
          {
            "name": "frequency_penalty",
            "type": "number",
            "label": "Frequency Penalty",
            "validate": {
              "max": 2,
              "min": -2
            }
          },
          {
            "name": "presence_penalty",
            "type": "number",
            "label": "Presence Penalty",
            "validate": {
              "max": 2,
              "min": -2
            }
          },
          {
            "name": "logit_bias",
            "type": "array",
            "label": "Token Probability",
            "spec": {
              "spec": [
                {
                  "name": "token",
                  "type": "text",
                  "label": "Token ID",
                  "required": true
                },
                {
                  "name": "probability",
                  "type": "number",
                  "label": "Probability",
                  "required": true,
                  "validate": {
                    "max": 100,
                    "min": -100
                  }
                }
              ],
              "type": "collection",
              "label": "Token Probability",
              "name": "value"
            }
          },
          {
            "name": "seed",
            "type": "integer",
            "label": "Seed"
          },
          {
            "name": "stop",
            "type": "array",
            "label": "Stop Sequences",
            "validate": {
              "maxItems": 4
            },
            "spec": {
              "type": "text",
              "label": "Stop Sequence",
              "name": "value"
            }
          },
          {
            "name": "additionalParameters",
            "type": "array",
            "label": "Other Input Parameters",
            "spec": {
              "spec": [
                {
                  "name": "key",
                  "type": "text",
                  "label": "Parameter Name",
                  "required": true
                },
                {
                  "name": "type",
                  "type": "select",
                  "label": "Input Type",
                  "options": [
                    {
                      "label": "Text",
                      "value": "text",
                      "nested": [
                        {
                          "name": "value",
                          "type": "text",
                          "label": "Parameter Value"
                        }
                      ],
                      "default": true
                    },
                    {
                      "label": "Number",
                      "value": "number",
                      "nested": [
                        {
                          "name": "value",
                          "type": "number",
                          "label": "Parameter Value"
                        }
                      ]
                    },
                    {
                      "label": "Boolean",
                      "value": "boolean",
                      "nested": [
                        {
                          "name": "value",
                          "type": "boolean",
                          "label": "Parameter Value"
                        }
                      ]
                    },
                    {
                      "label": "Date",
                      "value": "date",
                      "nested": [
                        {
                          "name": "value",
                          "type": "date",
                          "label": "Parameter Value"
                        }
                      ]
                    },
                    {
                      "label": "Any",
                      "value": "any",
                      "nested": [
                        {
                          "name": "value",
                          "type": "any",
                          "label": "Parameter Value"
                        }
                      ]
                    }
                  ]
                }
              ],
              "type": "collection",
              "label": "Input Parameter",
              "name": "value"
            }
          },
          {
            "name": "model",
            "type": "select",
            "label": "Model",
            "required": true
          },
          {
            "name": "max_tokens",
            "type": "uinteger",
            "label": "Max Completion Tokens"
          },
          {
            "name": "messages",
            "type": "array",
            "label": "Messages",
            "required": true,
            "spec": {
              "label": "Message",
              "type": "collection",
              "spec": [
                {
                  "name": "role",
                  "type": "select",
                  "label": "Role",
                  "required": true,
                  "options": {
                    "store": [
                      {
                        "label": "Developer / System",
                        "value": "system",
                        "nested": [
                          {
                            "help": "Text content of the message on behalf of the selected __Role__.",
                            "name": "content",
                            "type": "text",
                            "label": "Text Content"
                          }
                        ]
                      },
                      {
                        "label": "User",
                        "value": "user",
                        "nested": [
                          {
                            "help": "Text content of the message on behalf of the selected __Role__.",
                            "name": "content",
                            "type": "text",
                            "label": "Text Content"
                          },
                          {
                            "name": "imageInputType",
                            "type": "select",
                            "label": "Image Input Type",
                            "mappable": false,
                            "options": [
                              {
                                "value": "url",
                                "label": "URL",
                                "nested": [
                                  {
                                    "name": "imageUrl",
                                    "label": "Image URL",
                                    "type": "url",
                                    "help": "Make sure to use a publicly accessible URL.\nYou can test if your image is publicly accessible by opening the link in an incognito tab."
                                  }
                                ]
                              },
                              {
                                "value": "file",
                                "label": "Image File",
                                "nested": [
                                  {
                                    "name": "imageFile",
                                    "label": "Image",
                                    "type": "collection",
                                    "spec": [
                                      {
                                        "name": "imageFilename",
                                        "type": "filename",
                                        "label": "Image Filename",
                                        "semantic": "file:name",
                                        "extension": [
                                          "jpg",
                                          "jpeg",
                                          "png",
                                          "webp",
                                          "gif"
                                        ],
                                        "help": "Accepted extensions: `.jpg`, `.jpeg`, `.png`, `.webp` and `.gif`."
                                      },
                                      {
                                        "name": "imageData",
                                        "type": "buffer",
                                        "label": "Image Data",
                                        "semantic": "file:data"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "name": "imageDetail",
                            "type": "select",
                            "label": "Image Detail",
                            "advanced": true,
                            "options": [
                              {
                                "value": "auto",
                                "default": true,
                                "label": "Auto"
                              },
                              {
                                "value": "high",
                                "label": "High"
                              },
                              {
                                "value": "low",
                                "label": "Low"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "label": "Assistant",
                        "value": "assistant",
                        "nested": [
                          {
                            "help": "Text content of the message on behalf of the selected __Role__.",
                            "name": "content",
                            "type": "text",
                            "label": "Text Content"
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "name": "value"
            }
          },
          {
            "name": "response_format",
            "type": "select",
            "label": "Response Format",
            "validate": {
              "enum": [
                "text",
                "json_object"
              ]
            }
          }
        ],
        "interface": [
          {
            "name": "result",
            "type": "any",
            "label": "Result"
          },
          {
            "name": "id",
            "type": "text",
            "label": "ID"
          },
          {
            "name": "object",
            "type": "text",
            "label": "Object"
          },
          {
            "name": "created",
            "type": "date",
            "label": "Created"
          },
          {
            "name": "model",
            "type": "text",
            "label": "Model"
          },
          {
            "name": "choices",
            "spec": {
              "spec": [
                {
                  "name": "text",
                  "type": "text",
                  "label": "Text"
                },
                {
                  "name": "index",
                  "type": "number",
                  "label": "Index"
                },
                {
                  "name": "logprobs",
                  "type": "text",
                  "label": "Log Probs"
                },
                {
                  "name": "finish_reason",
                  "type": "text",
                  "label": "Finish Reason"
                },
                {
                  "name": "message",
                  "spec": [
                    {
                      "name": "role",
                      "type": "text",
                      "label": "Role"
                    },
                    {
                      "name": "content",
                      "type": "text",
                      "label": "Content"
                    },
                    {
                      "name": "refusal",
                      "type": "text",
                      "label": "Refusal"
                    }
                  ],
                  "type": "collection",
                  "label": "Message"
                }
              ],
              "type": "collection"
            },
            "type": "array",
            "label": "Choices"
          },
          {
            "name": "usage",
            "spec": [
              {
                "name": "prompt_tokens",
                "type": "number",
                "label": "Prompt Tokens"
              },
              {
                "name": "completion_tokens",
                "type": "text",
                "label": "Completion Tokens"
              },
              {
                "name": "total_tokens",
                "type": "number",
                "label": "Total Tokens"
              },
              {
                "name": "prompt_tokens_details",
                "spec": [
                  {
                    "name": "cached_tokens",
                    "type": "uinteger",
                    "label": "Cached Tokens"
                  },
                  {
                    "name": "text_tokens",
                    "type": "uinteger",
                    "label": "Text Tokens"
                  },
                  {
                    "name": "image_tokens",
                    "type": "uinteger",
                    "label": "Image Tokens"
                  },
                  {
                    "name": "audio_tokens",
                    "type": "uinteger",
                    "label": "Audio Tokens"
                  }
                ],
                "type": "collection",
                "label": "Prompt Tokens Details"
              },
              {
                "name": "completion_tokens_details",
                "spec": [
                  {
                    "name": "reasoning_tokens",
                    "type": "uinteger",
                    "label": "Reasoning Tokens"
                  },
                  {
                    "name": "text_tokens",
                    "type": "uinteger",
                    "label": "Text Tokens"
                  },
                  {
                    "name": "audio_tokens",
                    "type": "uinteger",
                    "label": "Audio Tokens"
                  },
                  {
                    "name": "accepted_prediction_tokens",
                    "type": "uinteger",
                    "label": "Accepted Prediction Tokens"
                  },
                  {
                    "name": "rejected_prediction_tokens",
                    "type": "uinteger",
                    "label": "Rejected Prediction Tokens"
                  }
                ],
                "type": "collection",
                "label": "Completion Tokens Details"
              }
            ],
            "type": "collection",
            "label": "Usage"
          },
          {
            "name": "system_fingerprint",
            "type": "text",
            "label": "System Fingerprint"
          }
        ]
      }
    },
    {
      "id": 7,
      "module": "builtin:BasicRouter",
      "version": 1,
      "mapper": null,
      "metadata": {
        "designer": {
          "x": 1200,
          "y": 450
        }
      },
      "routes": [
        {
          "flow": [
            {
              "id": 8,
              "module": "openai-gpt-3:CreateCompletion",
              "version": 1,
              "parameters": {
                "__IMTCONN__": 1111111
              },
              "filter": {
                "name": "High Priority",
                "conditions": [
                  [
                    {
                      "a": "{{6.result}}",
                      "b": "1",
                      "o": "number:equal"
                    }
                  ]
                ]
              },
              "mapper": {
                "select": "chat",
                "temperature": "1",
                "top_p": "1",
                "n_completions": "1",
                "model": "gpt-4o-mini",
                "max_tokens": "2048",
                "messages": [
                  {
                    "role": "system",
                    "content": "You are an expert text analyser who works for the customer support team of {Company name}\n\nYou are dealing with a high prioirty support ticket and you have to decide on:\n\n1. If the user needs a detailed response taken from the {Company Name} knowledge base\n\nor\n\n2. If the user DOES NOT need a detailed knowledge response, rather just a escalation to the internal team.\n\nIf the user DOES need a detailed knowledge response, output: \"1\"\n\nIf the user DOES NOT need a detailed knowledge response output: \"2\"\n\nThis task is highly important and you best efforts are required.\n\n\u200b"
                  },
                  {
                    "role": "system",
                    "content": "Here are examples of Outputs:\n~\nThe users input:\n\"My order hasn't arrived!!! What is your shipping policy??\"\n\nYour output: \"1\"\n\nThe users input: \n\"I need help from a professional, my oder does not fit correctly\"\n\"2\"\n\n{{{{Add}}{{more}}{{examples}}{{based}}{{on}}{{the}}{{business}}}}"
                  },
                  {
                    "role": "system",
                    "content": "You must only output either \"1\" or \"2\" - no other text."
                  },
                  {
                    "role": "user",
                    "content": "A high prioirty customer inquiry has came through, here are the details:\n\nSubject: {{2.subject}}\nBody: {{2.text}}",
                    "imageDetail": "auto"
                  },
                  {
                    "role": "system",
                    "content": "Your main task is to identify if the user needs details from the knowledge base or if they just need their email forwarded to the internal team.\n\nSo the two options are:\n\n - The user ONLY needs their email forwarded to the internal team. (1)\n\n - The user needs informkation AND their question forwarded to the internal team. (2)"
                  }
                ],
                "response_format": "text"
              },
              "metadata": {
                "designer": {
                  "x": 1522,
                  "y": -400
                },
                "restore": {
                  "parameters": {
                    "__IMTCONN__": {
                      "label": "Nina OpenAI",
                      "data": {
                        "scoped": "true",
                        "connection": "openai-gpt-3"
                      }
                    }
                  },
                  "expect": {
                    "select": {
                      "label": "Create a Chat Completion (GPT and o1 models)"
                    },
                    "logit_bias": {
                      "mode": "chose"
                    },
                    "stop": {
                      "mode": "chose"
                    },
                    "additionalParameters": {
                      "mode": "chose"
                    },
                    "model": {
                      "mode": "chose",
                      "label": "gpt-4o-mini (system)"
                    },
                    "messages": {
                      "mode": "chose",
                      "items": [
                        {
                          "role": {
                            "mode": "chose",
                            "label": "Developer / System"
                          }
                        },
                        {
                          "role": {
                            "mode": "chose",
                            "label": "Developer / System"
                          }
                        },
                        {
                          "role": {
                            "mode": "chose",
                            "label": "Developer / System"
                          }
                        },
                        {
                          "role": {
                            "mode": "chose",
                            "label": "User"
                          },
                          "imageInputType": {
                            "mode": "chose",
                            "label": "Empty"
                          },
                          "imageDetail": {
                            "mode": "chose",
                            "label": "Auto"
                          }
                        },
                        {
                          "role": {
                            "mode": "chose",
                            "label": "Developer / System"
                          }
                        }
                      ]
                    },
                    "response_format": {
                      "mode": "chose",
                      "label": "Text"
                    }
                  }
                },
                "parameters": [
                  {
                    "name": "__IMTCONN__",
                    "type": "account:openai-gpt-3",
                    "label": "Connection",
                    "required": true
                  }
                ],
                "expect": [
                  {
                    "name": "select",
                    "type": "select",
                    "label": "Select Method",
                    "required": true,
                    "validate": {
                      "enum": [
                        "chat",
                        "prompt"
                      ]
                    }
                  },
                  {
                    "name": "temperature",
                    "type": "number",
                    "label": "Temperature",
                    "validate": {
                      "max": 2,
                      "min": 0
                    }
                  },
                  {
                    "name": "top_p",
                    "type": "number",
                    "label": "Top P",
                    "validate": {
                      "max": 1,
                      "min": 0
                    }
                  },
                  {
                    "name": "n_completions",
                    "type": "number",
                    "label": "Number"
                  },
                  {
                    "name": "frequency_penalty",
                    "type": "number",
                    "label": "Frequency Penalty",
                    "validate": {
                      "max": 2,
                      "min": -2
                    }
                  },
                  {
                    "name": "presence_penalty",
                    "type": "number",
                    "label": "Presence Penalty",
                    "validate": {
                      "max": 2,
                      "min": -2
                    }
                  },
                  {
                    "name": "logit_bias",
                    "type": "array",
                    "label": "Token Probability",
                    "spec": {
                      "spec": [
                        {
                          "name": "token",
                          "type": "text",
                          "label": "Token ID",
                          "required": true
                        },
                        {
                          "name": "probability",
                          "type": "number",
                          "label": "Probability",
                          "required": true,
                          "validate": {
                            "max": 100,
                            "min": -100
                          }
                        }
                      ],
                      "type": "collection",
                      "label": "Token Probability",
                      "name": "value"
                    }
                  },
                  {
                    "name": "seed",
                    "type": "integer",
                    "label": "Seed"
                  },
                  {
                    "name": "stop",
                    "type": "array",
                    "label": "Stop Sequences",
                    "validate": {
                      "maxItems": 4
                    },
                    "spec": {
                      "type": "text",
                      "label": "Stop Sequence",
                      "name": "value"
                    }
                  },
                  {
                    "name": "additionalParameters",
                    "type": "array",
                    "label": "Other Input Parameters",
                    "spec": {
                      "spec": [
                        {
                          "name": "key",
                          "type": "text",
                          "label": "Parameter Name",
                          "required": true
                        },
                        {
                          "name": "type",
                          "type": "select",
                          "label": "Input Type",
                          "options": [
                            {
                              "label": "Text",
                              "value": "text",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "text",
                                  "label": "Parameter Value"
                                }
                              ],
                              "default": true
                            },
                            {
                              "label": "Number",
                              "value": "number",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "number",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Boolean",
                              "value": "boolean",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "boolean",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Date",
                              "value": "date",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "date",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Any",
                              "value": "any",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "any",
                                  "label": "Parameter Value"
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "type": "collection",
                      "label": "Input Parameter",
                      "name": "value"
                    }
                  },
                  {
                    "name": "model",
                    "type": "select",
                    "label": "Model",
                    "required": true
                  },
                  {
                    "name": "max_tokens",
                    "type": "uinteger",
                    "label": "Max Completion Tokens"
                  },
                  {
                    "name": "messages",
                    "type": "array",
                    "label": "Messages",
                    "required": true,
                    "spec": {
                      "label": "Message",
                      "type": "collection",
                      "spec": [
                        {
                          "name": "role",
                          "type": "select",
                          "label": "Role",
                          "required": true,
                          "options": {
                            "store": [
                              {
                                "label": "Developer / System",
                                "value": "system",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  }
                                ]
                              },
                              {
                                "label": "User",
                                "value": "user",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  },
                                  {
                                    "name": "imageInputType",
                                    "type": "select",
                                    "label": "Image Input Type",
                                    "mappable": false,
                                    "options": [
                                      {
                                        "value": "url",
                                        "label": "URL",
                                        "nested": [
                                          {
                                            "name": "imageUrl",
                                            "label": "Image URL",
                                            "type": "url",
                                            "help": "Make sure to use a publicly accessible URL.\nYou can test if your image is publicly accessible by opening the link in an incognito tab."
                                          }
                                        ]
                                      },
                                      {
                                        "value": "file",
                                        "label": "Image File",
                                        "nested": [
                                          {
                                            "name": "imageFile",
                                            "label": "Image",
                                            "type": "collection",
                                            "spec": [
                                              {
                                                "name": "imageFilename",
                                                "type": "filename",
                                                "label": "Image Filename",
                                                "semantic": "file:name",
                                                "extension": [
                                                  "jpg",
                                                  "jpeg",
                                                  "png",
                                                  "webp",
                                                  "gif"
                                                ],
                                                "help": "Accepted extensions: `.jpg`, `.jpeg`, `.png`, `.webp` and `.gif`."
                                              },
                                              {
                                                "name": "imageData",
                                                "type": "buffer",
                                                "label": "Image Data",
                                                "semantic": "file:data"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "name": "imageDetail",
                                    "type": "select",
                                    "label": "Image Detail",
                                    "advanced": true,
                                    "options": [
                                      {
                                        "value": "auto",
                                        "default": true,
                                        "label": "Auto"
                                      },
                                      {
                                        "value": "high",
                                        "label": "High"
                                      },
                                      {
                                        "value": "low",
                                        "label": "Low"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "label": "Assistant",
                                "value": "assistant",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ],
                      "name": "value"
                    }
                  },
                  {
                    "name": "response_format",
                    "type": "select",
                    "label": "Response Format",
                    "validate": {
                      "enum": [
                        "text",
                        "json_object"
                      ]
                    }
                  }
                ],
                "interface": [
                  {
                    "name": "result",
                    "type": "any",
                    "label": "Result"
                  },
                  {
                    "name": "id",
                    "type": "text",
                    "label": "ID"
                  },
                  {
                    "name": "object",
                    "type": "text",
                    "label": "Object"
                  },
                  {
                    "name": "created",
                    "type": "date",
                    "label": "Created"
                  },
                  {
                    "name": "model",
                    "type": "text",
                    "label": "Model"
                  },
                  {
                    "name": "choices",
                    "spec": {
                      "spec": [
                        {
                          "name": "text",
                          "type": "text",
                          "label": "Text"
                        },
                        {
                          "name": "index",
                          "type": "number",
                          "label": "Index"
                        },
                        {
                          "name": "logprobs",
                          "type": "text",
                          "label": "Log Probs"
                        },
                        {
                          "name": "finish_reason",
                          "type": "text",
                          "label": "Finish Reason"
                        },
                        {
                          "name": "message",
                          "spec": [
                            {
                              "name": "role",
                              "type": "text",
                              "label": "Role"
                            },
                            {
                              "name": "content",
                              "type": "text",
                              "label": "Content"
                            },
                            {
                              "name": "refusal",
                              "type": "text",
                              "label": "Refusal"
                            }
                          ],
                          "type": "collection",
                          "label": "Message"
                        }
                      ],
                      "type": "collection"
                    },
                    "type": "array",
                    "label": "Choices"
                  },
                  {
                    "name": "usage",
                    "spec": [
                      {
                        "name": "prompt_tokens",
                        "type": "number",
                        "label": "Prompt Tokens"
                      },
                      {
                        "name": "completion_tokens",
                        "type": "text",
                        "label": "Completion Tokens"
                      },
                      {
                        "name": "total_tokens",
                        "type": "number",
                        "label": "Total Tokens"
                      },
                      {
                        "name": "prompt_tokens_details",
                        "spec": [
                          {
                            "name": "cached_tokens",
                            "type": "uinteger",
                            "label": "Cached Tokens"
                          },
                          {
                            "name": "text_tokens",
                            "type": "uinteger",
                            "label": "Text Tokens"
                          },
                          {
                            "name": "image_tokens",
                            "type": "uinteger",
                            "label": "Image Tokens"
                          },
                          {
                            "name": "audio_tokens",
                            "type": "uinteger",
                            "label": "Audio Tokens"
                          }
                        ],
                        "type": "collection",
                        "label": "Prompt Tokens Details"
                      },
                      {
                        "name": "completion_tokens_details",
                        "spec": [
                          {
                            "name": "reasoning_tokens",
                            "type": "uinteger",
                            "label": "Reasoning Tokens"
                          },
                          {
                            "name": "text_tokens",
                            "type": "uinteger",
                            "label": "Text Tokens"
                          },
                          {
                            "name": "audio_tokens",
                            "type": "uinteger",
                            "label": "Audio Tokens"
                          },
                          {
                            "name": "accepted_prediction_tokens",
                            "type": "uinteger",
                            "label": "Accepted Prediction Tokens"
                          },
                          {
                            "name": "rejected_prediction_tokens",
                            "type": "uinteger",
                            "label": "Rejected Prediction Tokens"
                          }
                        ],
                        "type": "collection",
                        "label": "Completion Tokens Details"
                      }
                    ],
                    "type": "collection",
                    "label": "Usage"
                  },
                  {
                    "name": "system_fingerprint",
                    "type": "text",
                    "label": "System Fingerprint"
                  }
                ]
              }
            },
            {
              "id": 9,
              "module": "builtin:BasicRouter",
              "version": 1,
              "mapper": null,
              "metadata": {
                "designer": {
                  "x": 1833,
                  "y": -405
                }
              },
              "routes": [
                {
                  "flow": [
                    {
                      "id": 10,
                      "module": "slack:CreateMessage",
                      "version": 4,
                      "parameters": {
                        "__IMTCONN__": 1111111
                      },
                      "filter": {
                        "name": "Escalation",
                        "conditions": [
                          [
                            {
                              "a": "{{8.result}}",
                              "b": "2",
                              "o": "number:equal"
                            }
                          ]
                        ]
                      },
                      "mapper": {
                        "channelWType": "list",
                        "text": "A new customer escalation here are the details: {{2.text}}{{2.html}}{{2.from.name}}{{2.from.address}}",
                        "parse": false,
                        "mrkdwn": true,
                        "channelType": "public",
                        "channel": "C06LKT8CDEY"
                      },
                      "metadata": {
                        "designer": {
                          "x": 2036,
                          "y": -629
                        },
                        "restore": {
                          "parameters": {
                            "__IMTCONN__": {
                              "label": "My Slack (user) connection (aiwithnina)",
                              "data": {
                                "scoped": "true",
                                "connection": "slack2"
                              }
                            }
                          },
                          "expect": {
                            "channelWType": {
                              "label": "Select from the list"
                            },
                            "reply_broadcast": {
                              "mode": "chose"
                            },
                            "link_names": {
                              "mode": "chose"
                            },
                            "parse": {
                              "mode": "chose"
                            },
                            "mrkdwn": {
                              "mode": "chose"
                            },
                            "unfurl_links": {
                              "mode": "chose"
                            },
                            "unfurl_media": {
                              "mode": "chose"
                            },
                            "channelType": {
                              "label": "Public channel"
                            },
                            "channel": {
                              "mode": "chose",
                              "label": "general"
                            }
                          }
                        },
                        "parameters": [
                          {
                            "name": "__IMTCONN__",
                            "type": "account:slack2,slack3",
                            "label": "Connection",
                            "required": true
                          }
                        ],
                        "expect": [
                          {
                            "name": "channelWType",
                            "type": "select",
                            "label": "Enter a channel ID or name",
                            "required": true,
                            "validate": {
                              "enum": [
                                "manualy",
                                "list"
                              ]
                            }
                          },
                          {
                            "name": "text",
                            "type": "text",
                            "label": "Text"
                          },
                          {
                            "name": "blocks",
                            "type": "text",
                            "label": "Blocks"
                          },
                          {
                            "name": "thread_ts",
                            "type": "text",
                            "label": "Thread message ID (time stamp)"
                          },
                          {
                            "name": "reply_broadcast",
                            "type": "boolean",
                            "label": "Reply broadcast"
                          },
                          {
                            "name": "link_names",
                            "type": "boolean",
                            "label": "Link names"
                          },
                          {
                            "name": "parse",
                            "type": "boolean",
                            "label": "Parse message text"
                          },
                          {
                            "name": "mrkdwn",
                            "type": "boolean",
                            "label": "Use markdown"
                          },
                          {
                            "name": "unfurl_links",
                            "type": "boolean",
                            "label": "Unfurl primarily text-based content"
                          },
                          {
                            "name": "unfurl_media",
                            "type": "boolean",
                            "label": "Unfurl media content"
                          },
                          {
                            "name": "icon_emoji",
                            "type": "text",
                            "label": "Icon emoji"
                          },
                          {
                            "name": "icon_url",
                            "type": "url",
                            "label": "Icon url"
                          },
                          {
                            "name": "username",
                            "type": "text",
                            "label": "User name"
                          },
                          {
                            "name": "channelType",
                            "type": "select",
                            "label": "Channel type",
                            "required": true,
                            "validate": {
                              "enum": [
                                "public",
                                "private",
                                "im",
                                "mpim"
                              ]
                            }
                          },
                          {
                            "name": "channel",
                            "type": "select",
                            "label": "Public channel",
                            "required": true
                          }
                        ]
                      }
                    },
                    {
                      "id": 11,
                      "module": "email:ActionSendEmail",
                      "version": 7,
                      "parameters": {
                        "account": 1579435,
                        "saveAfterSent": false
                      },
                      "mapper": {
                        "to": [
                          "{{2.from.address}}"
                        ],
                        "subject": "Your customer inquiry has been raised.",
                        "contentType": "html",
                        "attachments": [],
                        "cc": [],
                        "bcc": [],
                        "from": "",
                        "sender": "",
                        "replyTo": "",
                        "inReplyTo": "",
                        "references": [],
                        "priority": "normal",
                        "headers": [],
                        "html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>High Priority Email Response</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            line-height: 1.6;\n            color: #333;\n            margin: 20px;\n            padding: 0;\n        }\n        .container {\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 20px;\n            border: 1px solid #ddd;\n            border-radius: 8px;\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n            background-color: #f9f9f9;\n        }\n        h2 {\n            color: #0056b3;\n        }\n        p {\n            margin: 15px 0;\n        }\n        .signature {\n            margin-top: 20px;\n            font-style: italic;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h2>Hi {{2.from.name}},</h2>\n        <p>\n            Thank you for reaching out. We\u2019ve marked your query as a high-priority issue and have forwarded it to the appropriate team. You can expect a response within <strong>24 Hours</strong>.\n        </p>\n        <p>\n            If you have additional details, feel free to reply to this email.\n        </p>\n        <p class=\"signature\">\n            Best regards,<br>\n            Customer Support\n        </p>\n    </div>\n</body>\n\n"
                      },
                      "metadata": {
                        "designer": {
                          "x": 2324,
                          "y": -626
                        },
                        "restore": {
                          "parameters": {
                            "account": {
                              "label": "My Google Restricted connection (Nina@automationcrmexpert.com)",
                              "data": {
                                "scoped": "true",
                                "connection": "google-restricted"
                              }
                            },
                            "saveAfterSent": {
                              "label": "No"
                            }
                          },
                          "expect": {
                            "to": {
                              "mode": "chose",
                              "items": [
                                null
                              ]
                            },
                            "contentType": {
                              "label": "HTML"
                            },
                            "attachments": {
                              "mode": "chose"
                            },
                            "cc": {
                              "mode": "chose"
                            },
                            "bcc": {
                              "mode": "chose"
                            },
                            "references": {
                              "mode": "chose"
                            },
                            "priority": {
                              "label": "Normal"
                            }
                          }
                        },
                        "parameters": [
                          {
                            "name": "account",
                            "type": "account:smtp,google-restricted,microsoft-smtp-imap",
                            "label": "Connection",
                            "required": true
                          },
                          {
                            "name": "saveAfterSent",
                            "type": "select",
                            "label": "Save message after sending",
                            "required": true,
                            "validate": {
                              "enum": [
                                true,
                                false
                              ]
                            }
                          },
                          {
                            "type": "hidden"
                          }
                        ],
                        "expect": [
                          {
                            "name": "to",
                            "type": "array",
                            "label": "To",
                            "required": true,
                            "spec": {
                              "name": "value",
                              "type": "email",
                              "label": "Email address",
                              "required": true
                            }
                          },
                          {
                            "name": "subject",
                            "type": "text",
                            "label": "Subject"
                          },
                          {
                            "name": "contentType",
                            "type": "select",
                            "label": "Content Type",
                            "required": true,
                            "validate": {
                              "enum": [
                                "html",
                                "text"
                              ]
                            }
                          },
                          {
                            "name": "attachments",
                            "type": "array",
                            "label": "Attachments",
                            "spec": [
                              {
                                "name": "fileName",
                                "label": "File name",
                                "type": "filename",
                                "required": true,
                                "semantic": "file:name"
                              },
                              {
                                "name": "data",
                                "label": "Data",
                                "type": "buffer",
                                "required": true,
                                "semantic": "file:data"
                              },
                              {
                                "name": "cid",
                                "label": "Content-ID",
                                "type": "text"
                              }
                            ]
                          },
                          {
                            "name": "cc",
                            "type": "array",
                            "label": "Copy recipient",
                            "spec": {
                              "name": "value",
                              "type": "email",
                              "label": "Email address"
                            }
                          },
                          {
                            "name": "bcc",
                            "type": "array",
                            "label": "Blind copy recipient",
                            "spec": {
                              "name": "value",
                              "type": "email",
                              "label": "Email address"
                            }
                          },
                          {
                            "name": "from",
                            "type": "text",
                            "label": "From"
                          },
                          {
                            "name": "sender",
                            "type": "text",
                            "label": "Sender"
                          },
                          {
                            "name": "replyTo",
                            "type": "text",
                            "label": "Reply-To"
                          },
                          {
                            "name": "inReplyTo",
                            "type": "text",
                            "label": "In-Reply-To"
                          },
                          {
                            "name": "references",
                            "type": "array",
                            "label": "References",
                            "spec": {
                              "type": "text",
                              "label": "Reference",
                              "required": true,
                              "name": "value"
                            }
                          },
                          {
                            "name": "priority",
                            "type": "select",
                            "label": "Priority",
                            "validate": {
                              "enum": [
                                "high",
                                "normal",
                                "low"
                              ]
                            }
                          },
                          {
                            "name": "headers",
                            "type": "array",
                            "label": "Headers",
                            "spec": [
                              {
                                "name": "key",
                                "label": "Key",
                                "type": "text",
                                "required": true
                              },
                              {
                                "name": "value",
                                "label": "Value",
                                "type": "text",
                                "required": true
                              }
                            ]
                          },
                          {
                            "name": "html",
                            "type": "text",
                            "label": "Content"
                          }
                        ]
                      }
                    }
                  ]
                },
                {
                  "flow": [
                    {
                      "id": 14,
                      "module": "relevance:executeATool",
                      "version": 1,
                      "parameters": {
                        "__IMTCONN__": 1111111
                      },
                      "filter": {
                        "name": "",
                        "conditions": [
                          [
                            {
                              "a": "{{8.result}}",
                              "b": "1",
                              "o": "number:equal"
                            }
                          ]
                        ]
                      },
                      "mapper": {
                        "studioID": "aiwithnina-studio",
                        "text": "{{2.text}}"
                      },
                      "metadata": {
                        "designer": {
                          "x": 2031,
                          "y": -140
                        },
                        "restore": {
                          "parameters": {
                            "__IMTCONN__": {
                              "label": "My Relevance AI connection",
                              "data": {
                                "scoped": "true",
                                "connection": "Relevance-abcd1x"
                              }
                            }
                          },
                          "expect": {
                            "studioID": {
                              "mode": "chose",
                              "label": "3e8461ec-3ffa-4056-9e32-53712d7fe69e"
                            }
                          }
                        },
                        "parameters": [
                          {
                            "name": "__IMTCONN__",
                            "type": "account:Relevance-abcd1x",
                            "label": "Connection",
                            "required": true
                          }
                        ],
                        "expect": [
                          {
                            "name": "studio_anonymous",
                            "type": "select",
                            "label": "Tool to use",
                            "required": true
                          },
                          {
                            "name": "text",
                            "type": "text",
                            "label": "User Query"
                          },
                          {
                            "name": "aiwithnina_trends_faq_csv",
                            "type": "text"
                          }
                        ]
                      }
                    },
                    {
                      "id": 27,
                      "module": "openai-gpt-3:CreateCompletion",
                      "version": 1,
                      "parameters": {
                        "__IMTCONN__": 1111111
                      },
                      "mapper": {
                        "select": "chat",
                        "temperature": "1",
                        "top_p": "1",
                        "n_completions": "1",
                        "model": "gpt-4o-mini",
                        "max_tokens": "2048",
                        "messages": [
                          {
                            "role": "system",
                            "content": "You are a expert email formatter that works for the customer support team at {Company name}\n\nYour role is transform the data in a HTML formatted email, that looks neat and tidy."
                          },
                          {
                            "role": "system",
                            "content": "In your HTML output, dont have \"html or anything else in the text."
                          },
                          {
                            "role": "user",
                            "content": "Here is the data to form into the email: {{14.data.answer}}\n\nHere is the customer question: {{2.text}}\n\nHere is the customer info:\n{{2.from.name}}{{2.from.address}}\n\n{Company details, name, sender etc}",
                            "imageDetail": "auto"
                          }
                        ],
                        "response_format": "text"
                      },
                      "metadata": {
                        "designer": {
                          "x": 2336,
                          "y": -136
                        },
                        "restore": {
                          "parameters": {
                            "__IMTCONN__": {
                              "label": "Nina OpenAI",
                              "data": {
                                "scoped": "true",
                                "connection": "openai-gpt-3"
                              }
                            }
                          },
                          "expect": {
                            "select": {
                              "label": "Create a Chat Completion (GPT and o1 models)"
                            },
                            "logit_bias": {
                              "mode": "chose"
                            },
                            "stop": {
                              "mode": "chose"
                            },
                            "additionalParameters": {
                              "mode": "chose"
                            },
                            "model": {
                              "mode": "chose",
                              "label": "gpt-4o-mini (system)"
                            },
                            "messages": {
                              "mode": "chose",
                              "items": [
                                {
                                  "role": {
                                    "mode": "chose",
                                    "label": "Developer / System"
                                  }
                                },
                                {
                                  "role": {
                                    "mode": "chose",
                                    "label": "Developer / System"
                                  }
                                },
                                {
                                  "role": {
                                    "mode": "chose",
                                    "label": "User"
                                  },
                                  "imageInputType": {
                                    "mode": "chose",
                                    "label": "Empty"
                                  },
                                  "imageDetail": {
                                    "mode": "chose",
                                    "label": "Auto"
                                  }
                                }
                              ]
                            },
                            "response_format": {
                              "mode": "chose",
                              "label": "Text"
                            }
                          }
                        },
                        "parameters": [
                          {
                            "name": "__IMTCONN__",
                            "type": "account:openai-gpt-3",
                            "label": "Connection",
                            "required": true
                          }
                        ],
                        "expect": [
                          {
                            "name": "select",
                            "type": "select",
                            "label": "Select Method",
                            "required": true,
                            "validate": {
                              "enum": [
                                "chat",
                                "prompt"
                              ]
                            }
                          },
                          {
                            "name": "temperature",
                            "type": "number",
                            "label": "Temperature",
                            "validate": {
                              "max": 2,
                              "min": 0
                            }
                          },
                          {
                            "name": "top_p",
                            "type": "number",
                            "label": "Top P",
                            "validate": {
                              "max": 1,
                              "min": 0
                            }
                          },
                          {
                            "name": "n_completions",
                            "type": "number",
                            "label": "Number"
                          },
                          {
                            "name": "frequency_penalty",
                            "type": "number",
                            "label": "Frequency Penalty",
                            "validate": {
                              "max": 2,
                              "min": -2
                            }
                          },
                          {
                            "name": "presence_penalty",
                            "type": "number",
                            "label": "Presence Penalty",
                            "validate": {
                              "max": 2,
                              "min": -2
                            }
                          },
                          {
                            "name": "logit_bias",
                            "type": "array",
                            "label": "Token Probability",
                            "spec": {
                              "spec": [
                                {
                                  "name": "token",
                                  "type": "text",
                                  "label": "Token ID",
                                  "required": true
                                },
                                {
                                  "name": "probability",
                                  "type": "number",
                                  "label": "Probability",
                                  "required": true,
                                  "validate": {
                                    "max": 100,
                                    "min": -100
                                  }
                                }
                              ],
                              "type": "collection",
                              "label": "Token Probability",
                              "name": "value"
                            }
                          },
                          {
                            "name": "seed",
                            "type": "integer",
                            "label": "Seed"
                          },
                          {
                            "name": "stop",
                            "type": "array",
                            "label": "Stop Sequences",
                            "validate": {
                              "maxItems": 4
                            },
                            "spec": {
                              "type": "text",
                              "label": "Stop Sequence",
                              "name": "value"
                            }
                          },
                          {
                            "name": "additionalParameters",
                            "type": "array",
                            "label": "Other Input Parameters",
                            "spec": {
                              "spec": [
                                {
                                  "name": "key",
                                  "type": "text",
                                  "label": "Parameter Name",
                                  "required": true
                                },
                                {
                                  "name": "type",
                                  "type": "select",
                                  "label": "Input Type",
                                  "options": [
                                    {
                                      "label": "Text",
                                      "value": "text",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "text",
                                          "label": "Parameter Value"
                                        }
                                      ],
                                      "default": true
                                    },
                                    {
                                      "label": "Number",
                                      "value": "number",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "number",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Boolean",
                                      "value": "boolean",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "boolean",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Date",
                                      "value": "date",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "date",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Any",
                                      "value": "any",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "any",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "type": "collection",
                              "label": "Input Parameter",
                              "name": "value"
                            }
                          },
                          {
                            "name": "model",
                            "type": "select",
                            "label": "Model",
                            "required": true
                          },
                          {
                            "name": "max_tokens",
                            "type": "uinteger",
                            "label": "Max Completion Tokens"
                          },
                          {
                            "name": "messages",
                            "type": "array",
                            "label": "Messages",
                            "required": true,
                            "spec": {
                              "label": "Message",
                              "type": "collection",
                              "spec": [
                                {
                                  "name": "role",
                                  "type": "select",
                                  "label": "Role",
                                  "required": true,
                                  "options": {
                                    "store": [
                                      {
                                        "label": "Developer / System",
                                        "value": "system",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          }
                                        ]
                                      },
                                      {
                                        "label": "User",
                                        "value": "user",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          },
                                          {
                                            "name": "imageInputType",
                                            "type": "select",
                                            "label": "Image Input Type",
                                            "mappable": false,
                                            "options": [
                                              {
                                                "value": "url",
                                                "label": "URL",
                                                "nested": [
                                                  {
                                                    "name": "imageUrl",
                                                    "label": "Image URL",
                                                    "type": "url",
                                                    "help": "Make sure to use a publicly accessible URL.\nYou can test if your image is publicly accessible by opening the link in an incognito tab."
                                                  }
                                                ]
                                              },
                                              {
                                                "value": "file",
                                                "label": "Image File",
                                                "nested": [
                                                  {
                                                    "name": "imageFile",
                                                    "label": "Image",
                                                    "type": "collection",
                                                    "spec": [
                                                      {
                                                        "name": "imageFilename",
                                                        "type": "filename",
                                                        "label": "Image Filename",
                                                        "semantic": "file:name",
                                                        "extension": [
                                                          "jpg",
                                                          "jpeg",
                                                          "png",
                                                          "webp",
                                                          "gif"
                                                        ],
                                                        "help": "Accepted extensions: `.jpg`, `.jpeg`, `.png`, `.webp` and `.gif`."
                                                      },
                                                      {
                                                        "name": "imageData",
                                                        "type": "buffer",
                                                        "label": "Image Data",
                                                        "semantic": "file:data"
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "name": "imageDetail",
                                            "type": "select",
                                            "label": "Image Detail",
                                            "advanced": true,
                                            "options": [
                                              {
                                                "value": "auto",
                                                "default": true,
                                                "label": "Auto"
                                              },
                                              {
                                                "value": "high",
                                                "label": "High"
                                              },
                                              {
                                                "value": "low",
                                                "label": "Low"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "label": "Assistant",
                                        "value": "assistant",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              ],
                              "name": "value"
                            }
                          },
                          {
                            "name": "response_format",
                            "type": "select",
                            "label": "Response Format",
                            "validate": {
                              "enum": [
                                "text",
                                "json_object"
                              ]
                            }
                          }
                        ],
                        "interface": [
                          {
                            "name": "result",
                            "type": "any",
                            "label": "Result"
                          },
                          {
                            "name": "id",
                            "type": "text",
                            "label": "ID"
                          },
                          {
                            "name": "object",
                            "type": "text",
                            "label": "Object"
                          },
                          {
                            "name": "created",
                            "type": "date",
                            "label": "Created"
                          },
                          {
                            "name": "model",
                            "type": "text",
                            "label": "Model"
                          },
                          {
                            "name": "choices",
                            "spec": {
                              "spec": [
                                {
                                  "name": "text",
                                  "type": "text",
                                  "label": "Text"
                                },
                                {
                                  "name": "index",
                                  "type": "number",
                                  "label": "Index"
                                },
                                {
                                  "name": "logprobs",
                                  "type": "text",
                                  "label": "Log Probs"
                                },
                                {
                                  "name": "finish_reason",
                                  "type": "text",
                                  "label": "Finish Reason"
                                },
                                {
                                  "name": "message",
                                  "spec": [
                                    {
                                      "name": "role",
                                      "type": "text",
                                      "label": "Role"
                                    },
                                    {
                                      "name": "content",
                                      "type": "text",
                                      "label": "Content"
                                    },
                                    {
                                      "name": "refusal",
                                      "type": "text",
                                      "label": "Refusal"
                                    }
                                  ],
                                  "type": "collection",
                                  "label": "Message"
                                }
                              ],
                              "type": "collection"
                            },
                            "type": "array",
                            "label": "Choices"
                          },
                          {
                            "name": "usage",
                            "spec": [
                              {
                                "name": "prompt_tokens",
                                "type": "number",
                                "label": "Prompt Tokens"
                              },
                              {
                                "name": "completion_tokens",
                                "type": "text",
                                "label": "Completion Tokens"
                              },
                              {
                                "name": "total_tokens",
                                "type": "number",
                                "label": "Total Tokens"
                              },
                              {
                                "name": "prompt_tokens_details",
                                "spec": [
                                  {
                                    "name": "cached_tokens",
                                    "type": "uinteger",
                                    "label": "Cached Tokens"
                                  },
                                  {
                                    "name": "text_tokens",
                                    "type": "uinteger",
                                    "label": "Text Tokens"
                                  },
                                  {
                                    "name": "image_tokens",
                                    "type": "uinteger",
                                    "label": "Image Tokens"
                                  },
                                  {
                                    "name": "audio_tokens",
                                    "type": "uinteger",
                                    "label": "Audio Tokens"
                                  }
                                ],
                                "type": "collection",
                                "label": "Prompt Tokens Details"
                              },
                              {
                                "name": "completion_tokens_details",
                                "spec": [
                                  {
                                    "name": "reasoning_tokens",
                                    "type": "uinteger",
                                    "label": "Reasoning Tokens"
                                  },
                                  {
                                    "name": "text_tokens",
                                    "type": "uinteger",
                                    "label": "Text Tokens"
                                  },
                                  {
                                    "name": "audio_tokens",
                                    "type": "uinteger",
                                    "label": "Audio Tokens"
                                  },
                                  {
                                    "name": "accepted_prediction_tokens",
                                    "type": "uinteger",
                                    "label": "Accepted Prediction Tokens"
                                  },
                                  {
                                    "name": "rejected_prediction_tokens",
                                    "type": "uinteger",
                                    "label": "Rejected Prediction Tokens"
                                  }
                                ],
                                "type": "collection",
                                "label": "Completion Tokens Details"
                              }
                            ],
                            "type": "collection",
                            "label": "Usage"
                          },
                          {
                            "name": "system_fingerprint",
                            "type": "text",
                            "label": "System Fingerprint"
                          }
                        ]
                      }
                    },
                    {
                      "id": 28,
                      "module": "openai-gpt-3:CreateCompletion",
                      "version": 1,
                      "parameters": {
                        "__IMTCONN__": 1111111
                      },
                      "mapper": {
                        "select": "chat",
                        "temperature": "1",
                        "top_p": "1",
                        "n_completions": "1",
                        "model": "gpt-4o",
                        "max_tokens": "2048",
                        "messages": [
                          {
                            "role": "user",
                            "content": "Based off this email write a short and personalised email subject: {{27.result}}",
                            "imageDetail": "auto"
                          }
                        ]
                      },
                      "metadata": {
                        "designer": {
                          "x": 2632,
                          "y": -132
                        },
                        "restore": {
                          "parameters": {
                            "__IMTCONN__": {
                              "label": "Nina OpenAI",
                              "data": {
                                "scoped": "true",
                                "connection": "openai-gpt-3"
                              }
                            }
                          },
                          "expect": {
                            "select": {
                              "label": "Create a Chat Completion (GPT and o1 models)"
                            },
                            "logit_bias": {
                              "mode": "chose"
                            },
                            "stop": {
                              "mode": "chose"
                            },
                            "additionalParameters": {
                              "mode": "chose"
                            },
                            "model": {
                              "mode": "chose",
                              "label": "gpt-4o (system)"
                            },
                            "messages": {
                              "mode": "chose",
                              "items": [
                                {
                                  "role": {
                                    "mode": "chose",
                                    "label": "User"
                                  },
                                  "imageInputType": {
                                    "mode": "chose",
                                    "label": "Empty"
                                  },
                                  "imageDetail": {
                                    "mode": "chose",
                                    "label": "Auto"
                                  }
                                }
                              ]
                            }
                          }
                        },
                        "parameters": [
                          {
                            "name": "__IMTCONN__",
                            "type": "account:openai-gpt-3",
                            "label": "Connection",
                            "required": true
                          }
                        ],
                        "expect": [
                          {
                            "name": "select",
                            "type": "select",
                            "label": "Select Method",
                            "required": true,
                            "validate": {
                              "enum": [
                                "chat",
                                "prompt"
                              ]
                            }
                          },
                          {
                            "name": "temperature",
                            "type": "number",
                            "label": "Temperature",
                            "validate": {
                              "max": 2,
                              "min": 0
                            }
                          },
                          {
                            "name": "top_p",
                            "type": "number",
                            "label": "Top P",
                            "validate": {
                              "max": 1,
                              "min": 0
                            }
                          },
                          {
                            "name": "n_completions",
                            "type": "number",
                            "label": "Number"
                          },
                          {
                            "name": "frequency_penalty",
                            "type": "number",
                            "label": "Frequency Penalty",
                            "validate": {
                              "max": 2,
                              "min": -2
                            }
                          },
                          {
                            "name": "presence_penalty",
                            "type": "number",
                            "label": "Presence Penalty",
                            "validate": {
                              "max": 2,
                              "min": -2
                            }
                          },
                          {
                            "name": "logit_bias",
                            "type": "array",
                            "label": "Token Probability",
                            "spec": {
                              "spec": [
                                {
                                  "name": "token",
                                  "type": "text",
                                  "label": "Token ID",
                                  "required": true
                                },
                                {
                                  "name": "probability",
                                  "type": "number",
                                  "label": "Probability",
                                  "required": true,
                                  "validate": {
                                    "max": 100,
                                    "min": -100
                                  }
                                }
                              ],
                              "type": "collection",
                              "label": "Token Probability",
                              "name": "value"
                            }
                          },
                          {
                            "name": "seed",
                            "type": "integer",
                            "label": "Seed"
                          },
                          {
                            "name": "stop",
                            "type": "array",
                            "label": "Stop Sequences",
                            "validate": {
                              "maxItems": 4
                            },
                            "spec": {
                              "type": "text",
                              "label": "Stop Sequence",
                              "name": "value"
                            }
                          },
                          {
                            "name": "additionalParameters",
                            "type": "array",
                            "label": "Other Input Parameters",
                            "spec": {
                              "spec": [
                                {
                                  "name": "key",
                                  "type": "text",
                                  "label": "Parameter Name",
                                  "required": true
                                },
                                {
                                  "name": "type",
                                  "type": "select",
                                  "label": "Input Type",
                                  "options": [
                                    {
                                      "label": "Text",
                                      "value": "text",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "text",
                                          "label": "Parameter Value"
                                        }
                                      ],
                                      "default": true
                                    },
                                    {
                                      "label": "Number",
                                      "value": "number",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "number",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Boolean",
                                      "value": "boolean",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "boolean",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Date",
                                      "value": "date",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "date",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Any",
                                      "value": "any",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "any",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "type": "collection",
                              "label": "Input Parameter",
                              "name": "value"
                            }
                          },
                          {
                            "name": "model",
                            "type": "select",
                            "label": "Model",
                            "required": true
                          },
                          {
                            "name": "max_tokens",
                            "type": "uinteger",
                            "label": "Max Completion Tokens"
                          },
                          {
                            "name": "messages",
                            "type": "array",
                            "label": "Messages",
                            "required": true,
                            "spec": {
                              "label": "Message",
                              "type": "collection",
                              "spec": [
                                {
                                  "name": "role",
                                  "type": "select",
                                  "label": "Role",
                                  "required": true,
                                  "options": {
                                    "store": [
                                      {
                                        "label": "Developer / System",
                                        "value": "system",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          }
                                        ]
                                      },
                                      {
                                        "label": "User",
                                        "value": "user",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          },
                                          {
                                            "name": "imageInputType",
                                            "type": "select",
                                            "label": "Image Input Type",
                                            "mappable": false,
                                            "options": [
                                              {
                                                "value": "url",
                                                "label": "URL",
                                                "nested": [
                                                  {
                                                    "name": "imageUrl",
                                                    "label": "Image URL",
                                                    "type": "url",
                                                    "help": "Make sure to use a publicly accessible URL.\nYou can test if your image is publicly accessible by opening the link in an incognito tab."
                                                  }
                                                ]
                                              },
                                              {
                                                "value": "file",
                                                "label": "Image File",
                                                "nested": [
                                                  {
                                                    "name": "imageFile",
                                                    "label": "Image",
                                                    "type": "collection",
                                                    "spec": [
                                                      {
                                                        "name": "imageFilename",
                                                        "type": "filename",
                                                        "label": "Image Filename",
                                                        "semantic": "file:name",
                                                        "extension": [
                                                          "jpg",
                                                          "jpeg",
                                                          "png",
                                                          "webp",
                                                          "gif"
                                                        ],
                                                        "help": "Accepted extensions: `.jpg`, `.jpeg`, `.png`, `.webp` and `.gif`."
                                                      },
                                                      {
                                                        "name": "imageData",
                                                        "type": "buffer",
                                                        "label": "Image Data",
                                                        "semantic": "file:data"
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "name": "imageDetail",
                                            "type": "select",
                                            "label": "Image Detail",
                                            "advanced": true,
                                            "options": [
                                              {
                                                "value": "auto",
                                                "default": true,
                                                "label": "Auto"
                                              },
                                              {
                                                "value": "high",
                                                "label": "High"
                                              },
                                              {
                                                "value": "low",
                                                "label": "Low"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "label": "Assistant",
                                        "value": "assistant",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              ],
                              "name": "value"
                            }
                          }
                        ],
                        "interface": [
                          {
                            "name": "result",
                            "type": "any",
                            "label": "Result"
                          },
                          {
                            "name": "id",
                            "type": "text",
                            "label": "ID"
                          },
                          {
                            "name": "object",
                            "type": "text",
                            "label": "Object"
                          },
                          {
                            "name": "created",
                            "type": "date",
                            "label": "Created"
                          },
                          {
                            "name": "model",
                            "type": "text",
                            "label": "Model"
                          },
                          {
                            "name": "choices",
                            "spec": {
                              "spec": [
                                {
                                  "name": "text",
                                  "type": "text",
                                  "label": "Text"
                                },
                                {
                                  "name": "index",
                                  "type": "number",
                                  "label": "Index"
                                },
                                {
                                  "name": "logprobs",
                                  "type": "text",
                                  "label": "Log Probs"
                                },
                                {
                                  "name": "finish_reason",
                                  "type": "text",
                                  "label": "Finish Reason"
                                },
                                {
                                  "name": "message",
                                  "spec": [
                                    {
                                      "name": "role",
                                      "type": "text",
                                      "label": "Role"
                                    },
                                    {
                                      "name": "content",
                                      "type": "text",
                                      "label": "Content"
                                    },
                                    {
                                      "name": "refusal",
                                      "type": "text",
                                      "label": "Refusal"
                                    }
                                  ],
                                  "type": "collection",
                                  "label": "Message"
                                }
                              ],
                              "type": "collection"
                            },
                            "type": "array",
                            "label": "Choices"
                          },
                          {
                            "name": "usage",
                            "spec": [
                              {
                                "name": "prompt_tokens",
                                "type": "number",
                                "label": "Prompt Tokens"
                              },
                              {
                                "name": "completion_tokens",
                                "type": "text",
                                "label": "Completion Tokens"
                              },
                              {
                                "name": "total_tokens",
                                "type": "number",
                                "label": "Total Tokens"
                              },
                              {
                                "name": "prompt_tokens_details",
                                "spec": [
                                  {
                                    "name": "cached_tokens",
                                    "type": "uinteger",
                                    "label": "Cached Tokens"
                                  },
                                  {
                                    "name": "text_tokens",
                                    "type": "uinteger",
                                    "label": "Text Tokens"
                                  },
                                  {
                                    "name": "image_tokens",
                                    "type": "uinteger",
                                    "label": "Image Tokens"
                                  },
                                  {
                                    "name": "audio_tokens",
                                    "type": "uinteger",
                                    "label": "Audio Tokens"
                                  }
                                ],
                                "type": "collection",
                                "label": "Prompt Tokens Details"
                              },
                              {
                                "name": "completion_tokens_details",
                                "spec": [
                                  {
                                    "name": "reasoning_tokens",
                                    "type": "uinteger",
                                    "label": "Reasoning Tokens"
                                  },
                                  {
                                    "name": "text_tokens",
                                    "type": "uinteger",
                                    "label": "Text Tokens"
                                  },
                                  {
                                    "name": "audio_tokens",
                                    "type": "uinteger",
                                    "label": "Audio Tokens"
                                  },
                                  {
                                    "name": "accepted_prediction_tokens",
                                    "type": "uinteger",
                                    "label": "Accepted Prediction Tokens"
                                  },
                                  {
                                    "name": "rejected_prediction_tokens",
                                    "type": "uinteger",
                                    "label": "Rejected Prediction Tokens"
                                  }
                                ],
                                "type": "collection",
                                "label": "Completion Tokens Details"
                              }
                            ],
                            "type": "collection",
                            "label": "Usage"
                          },
                          {
                            "name": "system_fingerprint",
                            "type": "text",
                            "label": "System Fingerprint"
                          }
                        ]
                      }
                    },
                    {
                      "id": 26,
                      "module": "slack:CreateMessage",
                      "version": 4,
                      "parameters": {
                        "__IMTCONN__": 1111111
                      },
                      "mapper": {
                        "channelWType": "list",
                        "text": "A new customer inquiry has been raised: {{2.from.name}}{{2.from.address}}{{2.text}}",
                        "parse": false,
                        "mrkdwn": true,
                        "channelType": "public",
                        "channel": "C06LKT8CDEY"
                      },
                      "metadata": {
                        "designer": {
                          "x": 2928,
                          "y": -137
                        },
                        "restore": {
                          "parameters": {
                            "__IMTCONN__": {
                              "label": "My Slack (user) connection (aiwithnina)",
                              "data": {
                                "scoped": "true",
                                "connection": "slack2"
                              }
                            }
                          },
                          "expect": {
                            "channelWType": {
                              "label": "Select from the list"
                            },
                            "reply_broadcast": {
                              "mode": "chose"
                            },
                            "link_names": {
                              "mode": "chose"
                            },
                            "parse": {
                              "mode": "chose"
                            },
                            "mrkdwn": {
                              "mode": "chose"
                            },
                            "unfurl_links": {
                              "mode": "chose"
                            },
                            "unfurl_media": {
                              "mode": "chose"
                            },
                            "channelType": {
                              "label": "Public channel"
                            },
                            "channel": {
                              "mode": "chose",
                              "label": "general"
                            }
                          }
                        },
                        "parameters": [
                          {
                            "name": "__IMTCONN__",
                            "type": "account:slack2,slack3",
                            "label": "Connection",
                            "required": true
                          }
                        ],
                        "expect": [
                          {
                            "name": "channelWType",
                            "type": "select",
                            "label": "Enter a channel ID or name",
                            "required": true,
                            "validate": {
                              "enum": [
                                "manualy",
                                "list"
                              ]
                            }
                          },
                          {
                            "name": "text",
                            "type": "text",
                            "label": "Text"
                          },
                          {
                            "name": "blocks",
                            "type": "text",
                            "label": "Blocks"
                          },
                          {
                            "name": "thread_ts",
                            "type": "text",
                            "label": "Thread message ID (time stamp)"
                          },
                          {
                            "name": "reply_broadcast",
                            "type": "boolean",
                            "label": "Reply broadcast"
                          },
                          {
                            "name": "link_names",
                            "type": "boolean",
                            "label": "Link names"
                          },
                          {
                            "name": "parse",
                            "type": "boolean",
                            "label": "Parse message text"
                          },
                          {
                            "name": "mrkdwn",
                            "type": "boolean",
                            "label": "Use markdown"
                          },
                          {
                            "name": "unfurl_links",
                            "type": "boolean",
                            "label": "Unfurl primarily text-based content"
                          },
                          {
                            "name": "unfurl_media",
                            "type": "boolean",
                            "label": "Unfurl media content"
                          },
                          {
                            "name": "icon_emoji",
                            "type": "text",
                            "label": "Icon emoji"
                          },
                          {
                            "name": "icon_url",
                            "type": "url",
                            "label": "Icon url"
                          },
                          {
                            "name": "username",
                            "type": "text",
                            "label": "User name"
                          },
                          {
                            "name": "channelType",
                            "type": "select",
                            "label": "Channel type",
                            "required": true,
                            "validate": {
                              "enum": [
                                "public",
                                "private",
                                "im",
                                "mpim"
                              ]
                            }
                          },
                          {
                            "name": "channel",
                            "type": "select",
                            "label": "Public channel",
                            "required": true
                          }
                        ]
                      }
                    },
                    {
                      "id": 16,
                      "module": "email:ActionSendEmail",
                      "version": 7,
                      "parameters": {
                        "account": 1579435,
                        "saveAfterSent": false
                      },
                      "mapper": {
                        "cc": [],
                        "to": [
                          "{{2.from.address}}"
                        ],
                        "bcc": [],
                        "from": "",
                        "html": "{{14.data.answer}}",
                        "sender": "",
                        "headers": [],
                        "replyTo": "",
                        "subject": "Customer Support Inquiry",
                        "priority": "normal",
                        "inReplyTo": "",
                        "references": [],
                        "attachments": [],
                        "contentType": "html"
                      },
                      "metadata": {
                        "designer": {
                          "x": 3214,
                          "y": -142
                        },
                        "restore": {
                          "expect": {
                            "cc": {
                              "mode": "chose"
                            },
                            "to": {
                              "mode": "chose",
                              "items": [
                                null
                              ]
                            },
                            "bcc": {
                              "mode": "chose"
                            },
                            "priority": {
                              "label": "Normal"
                            },
                            "references": {
                              "mode": "chose"
                            },
                            "attachments": {
                              "mode": "chose"
                            },
                            "contentType": {
                              "label": "HTML"
                            }
                          },
                          "parameters": {
                            "account": {
                              "data": {
                                "scoped": "true",
                                "connection": "google-restricted"
                              },
                              "label": "My Google Restricted connection (Nina@automationcrmexpert.com)"
                            },
                            "saveAfterSent": {
                              "label": "No"
                            }
                          }
                        },
                        "parameters": [
                          {
                            "name": "account",
                            "type": "account:smtp,google-restricted,microsoft-smtp-imap",
                            "label": "Connection",
                            "required": true
                          },
                          {
                            "name": "saveAfterSent",
                            "type": "select",
                            "label": "Save message after sending",
                            "required": true,
                            "validate": {
                              "enum": [
                                true,
                                false
                              ]
                            }
                          },
                          {
                            "type": "hidden"
                          }
                        ],
                        "expect": [
                          {
                            "name": "to",
                            "spec": {
                              "name": "value",
                              "type": "email",
                              "label": "Email address",
                              "required": true
                            },
                            "type": "array",
                            "label": "To",
                            "required": true
                          },
                          {
                            "name": "subject",
                            "type": "text",
                            "label": "Subject"
                          },
                          {
                            "name": "contentType",
                            "type": "select",
                            "label": "Content Type",
                            "required": true,
                            "validate": {
                              "enum": [
                                "html",
                                "text"
                              ]
                            }
                          },
                          {
                            "name": "attachments",
                            "spec": [
                              {
                                "name": "fileName",
                                "type": "filename",
                                "label": "File name",
                                "required": true,
                                "semantic": "file:name"
                              },
                              {
                                "name": "data",
                                "type": "buffer",
                                "label": "Data",
                                "required": true,
                                "semantic": "file:data"
                              },
                              {
                                "name": "cid",
                                "type": "text",
                                "label": "Content-ID"
                              }
                            ],
                            "type": "array",
                            "label": "Attachments"
                          },
                          {
                            "name": "cc",
                            "spec": {
                              "name": "value",
                              "type": "email",
                              "label": "Email address"
                            },
                            "type": "array",
                            "label": "Copy recipient"
                          },
                          {
                            "name": "bcc",
                            "spec": {
                              "name": "value",
                              "type": "email",
                              "label": "Email address"
                            },
                            "type": "array",
                            "label": "Blind copy recipient"
                          },
                          {
                            "name": "from",
                            "type": "text",
                            "label": "From"
                          },
                          {
                            "name": "sender",
                            "type": "text",
                            "label": "Sender"
                          },
                          {
                            "name": "replyTo",
                            "type": "text",
                            "label": "Reply-To"
                          },
                          {
                            "name": "inReplyTo",
                            "type": "text",
                            "label": "In-Reply-To"
                          },
                          {
                            "name": "references",
                            "spec": {
                              "name": "value",
                              "type": "text",
                              "label": "Reference",
                              "required": true
                            },
                            "type": "array",
                            "label": "References"
                          },
                          {
                            "name": "priority",
                            "type": "select",
                            "label": "Priority",
                            "validate": {
                              "enum": [
                                "high",
                                "normal",
                                "low"
                              ]
                            }
                          },
                          {
                            "name": "headers",
                            "spec": [
                              {
                                "name": "key",
                                "type": "text",
                                "label": "Key",
                                "required": true
                              },
                              {
                                "name": "value",
                                "type": "text",
                                "label": "Value",
                                "required": true
                              }
                            ],
                            "type": "array",
                            "label": "Headers"
                          },
                          {
                            "name": "html",
                            "type": "text",
                            "label": "Content"
                          }
                        ]
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "flow": [
            {
              "id": 18,
              "module": "openai-gpt-3:CreateCompletion",
              "version": 1,
              "parameters": {
                "__IMTCONN__": 1111111
              },
              "filter": {
                "name": "Mid Priority",
                "conditions": [
                  [
                    {
                      "a": "{{6.result}}",
                      "b": "2",
                      "o": "number:equal"
                    }
                  ]
                ]
              },
              "mapper": {
                "select": "chat",
                "temperature": "1",
                "top_p": "1",
                "n_completions": "1",
                "model": "gpt-4o-mini",
                "max_tokens": "2048",
                "messages": [
                  {
                    "role": "system",
                    "content": "You are an expert text formater for RAG.\n\nYou take a customer inquiry and optimise for a vector RAG search.\n\nFocus on removing junk and amplifying keywords."
                  },
                  {
                    "role": "user",
                    "content": "Optimise this question: {{2.text}}",
                    "imageDetail": "auto"
                  }
                ],
                "response_format": "text"
              },
              "metadata": {
                "designer": {
                  "x": 1518,
                  "y": 457
                },
                "restore": {
                  "parameters": {
                    "__IMTCONN__": {
                      "label": "Nina OpenAI",
                      "data": {
                        "scoped": "true",
                        "connection": "openai-gpt-3"
                      }
                    }
                  },
                  "expect": {
                    "select": {
                      "label": "Create a Chat Completion (GPT and o1 models)"
                    },
                    "logit_bias": {
                      "mode": "chose"
                    },
                    "stop": {
                      "mode": "chose"
                    },
                    "additionalParameters": {
                      "mode": "chose"
                    },
                    "model": {
                      "mode": "chose",
                      "label": "gpt-4o-mini (system)"
                    },
                    "messages": {
                      "mode": "chose",
                      "items": [
                        {
                          "role": {
                            "mode": "chose",
                            "label": "Developer / System"
                          }
                        },
                        {
                          "role": {
                            "mode": "chose",
                            "label": "User"
                          },
                          "imageInputType": {
                            "mode": "chose",
                            "label": "Empty"
                          },
                          "imageDetail": {
                            "mode": "chose",
                            "label": "Auto"
                          }
                        }
                      ]
                    },
                    "response_format": {
                      "mode": "chose",
                      "label": "Text"
                    }
                  }
                },
                "parameters": [
                  {
                    "name": "__IMTCONN__",
                    "type": "account:openai-gpt-3",
                    "label": "Connection",
                    "required": true
                  }
                ],
                "expect": [
                  {
                    "name": "select",
                    "type": "select",
                    "label": "Select Method",
                    "required": true,
                    "validate": {
                      "enum": [
                        "chat",
                        "prompt"
                      ]
                    }
                  },
                  {
                    "name": "temperature",
                    "type": "number",
                    "label": "Temperature",
                    "validate": {
                      "max": 2,
                      "min": 0
                    }
                  },
                  {
                    "name": "top_p",
                    "type": "number",
                    "label": "Top P",
                    "validate": {
                      "max": 1,
                      "min": 0
                    }
                  },
                  {
                    "name": "n_completions",
                    "type": "number",
                    "label": "Number"
                  },
                  {
                    "name": "frequency_penalty",
                    "type": "number",
                    "label": "Frequency Penalty",
                    "validate": {
                      "max": 2,
                      "min": -2
                    }
                  },
                  {
                    "name": "presence_penalty",
                    "type": "number",
                    "label": "Presence Penalty",
                    "validate": {
                      "max": 2,
                      "min": -2
                    }
                  },
                  {
                    "name": "logit_bias",
                    "type": "array",
                    "label": "Token Probability",
                    "spec": {
                      "spec": [
                        {
                          "name": "token",
                          "type": "text",
                          "label": "Token ID",
                          "required": true
                        },
                        {
                          "name": "probability",
                          "type": "number",
                          "label": "Probability",
                          "required": true,
                          "validate": {
                            "max": 100,
                            "min": -100
                          }
                        }
                      ],
                      "type": "collection",
                      "label": "Token Probability",
                      "name": "value"
                    }
                  },
                  {
                    "name": "seed",
                    "type": "integer",
                    "label": "Seed"
                  },
                  {
                    "name": "stop",
                    "type": "array",
                    "label": "Stop Sequences",
                    "validate": {
                      "maxItems": 4
                    },
                    "spec": {
                      "type": "text",
                      "label": "Stop Sequence",
                      "name": "value"
                    }
                  },
                  {
                    "name": "additionalParameters",
                    "type": "array",
                    "label": "Other Input Parameters",
                    "spec": {
                      "spec": [
                        {
                          "name": "key",
                          "type": "text",
                          "label": "Parameter Name",
                          "required": true
                        },
                        {
                          "name": "type",
                          "type": "select",
                          "label": "Input Type",
                          "options": [
                            {
                              "label": "Text",
                              "value": "text",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "text",
                                  "label": "Parameter Value"
                                }
                              ],
                              "default": true
                            },
                            {
                              "label": "Number",
                              "value": "number",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "number",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Boolean",
                              "value": "boolean",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "boolean",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Date",
                              "value": "date",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "date",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Any",
                              "value": "any",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "any",
                                  "label": "Parameter Value"
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "type": "collection",
                      "label": "Input Parameter",
                      "name": "value"
                    }
                  },
                  {
                    "name": "model",
                    "type": "select",
                    "label": "Model",
                    "required": true
                  },
                  {
                    "name": "max_tokens",
                    "type": "uinteger",
                    "label": "Max Completion Tokens"
                  },
                  {
                    "name": "messages",
                    "type": "array",
                    "label": "Messages",
                    "required": true,
                    "spec": {
                      "label": "Message",
                      "type": "collection",
                      "spec": [
                        {
                          "name": "role",
                          "type": "select",
                          "label": "Role",
                          "required": true,
                          "options": {
                            "store": [
                              {
                                "label": "Developer / System",
                                "value": "system",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  }
                                ]
                              },
                              {
                                "label": "User",
                                "value": "user",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  },
                                  {
                                    "name": "imageInputType",
                                    "type": "select",
                                    "label": "Image Input Type",
                                    "mappable": false,
                                    "options": [
                                      {
                                        "value": "url",
                                        "label": "URL",
                                        "nested": [
                                          {
                                            "name": "imageUrl",
                                            "label": "Image URL",
                                            "type": "url",
                                            "help": "Make sure to use a publicly accessible URL.\nYou can test if your image is publicly accessible by opening the link in an incognito tab."
                                          }
                                        ]
                                      },
                                      {
                                        "value": "file",
                                        "label": "Image File",
                                        "nested": [
                                          {
                                            "name": "imageFile",
                                            "label": "Image",
                                            "type": "collection",
                                            "spec": [
                                              {
                                                "name": "imageFilename",
                                                "type": "filename",
                                                "label": "Image Filename",
                                                "semantic": "file:name",
                                                "extension": [
                                                  "jpg",
                                                  "jpeg",
                                                  "png",
                                                  "webp",
                                                  "gif"
                                                ],
                                                "help": "Accepted extensions: `.jpg`, `.jpeg`, `.png`, `.webp` and `.gif`."
                                              },
                                              {
                                                "name": "imageData",
                                                "type": "buffer",
                                                "label": "Image Data",
                                                "semantic": "file:data"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "name": "imageDetail",
                                    "type": "select",
                                    "label": "Image Detail",
                                    "advanced": true,
                                    "options": [
                                      {
                                        "value": "auto",
                                        "default": true,
                                        "label": "Auto"
                                      },
                                      {
                                        "value": "high",
                                        "label": "High"
                                      },
                                      {
                                        "value": "low",
                                        "label": "Low"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "label": "Assistant",
                                "value": "assistant",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ],
                      "name": "value"
                    }
                  },
                  {
                    "name": "response_format",
                    "type": "select",
                    "label": "Response Format",
                    "validate": {
                      "enum": [
                        "text",
                        "json_object"
                      ]
                    }
                  }
                ],
                "interface": [
                  {
                    "name": "result",
                    "type": "any",
                    "label": "Result"
                  },
                  {
                    "name": "id",
                    "type": "text",
                    "label": "ID"
                  },
                  {
                    "name": "object",
                    "type": "text",
                    "label": "Object"
                  },
                  {
                    "name": "created",
                    "type": "date",
                    "label": "Created"
                  },
                  {
                    "name": "model",
                    "type": "text",
                    "label": "Model"
                  },
                  {
                    "name": "choices",
                    "spec": {
                      "spec": [
                        {
                          "name": "text",
                          "type": "text",
                          "label": "Text"
                        },
                        {
                          "name": "index",
                          "type": "number",
                          "label": "Index"
                        },
                        {
                          "name": "logprobs",
                          "type": "text",
                          "label": "Log Probs"
                        },
                        {
                          "name": "finish_reason",
                          "type": "text",
                          "label": "Finish Reason"
                        },
                        {
                          "name": "message",
                          "spec": [
                            {
                              "name": "role",
                              "type": "text",
                              "label": "Role"
                            },
                            {
                              "name": "content",
                              "type": "text",
                              "label": "Content"
                            },
                            {
                              "name": "refusal",
                              "type": "text",
                              "label": "Refusal"
                            }
                          ],
                          "type": "collection",
                          "label": "Message"
                        }
                      ],
                      "type": "collection"
                    },
                    "type": "array",
                    "label": "Choices"
                  },
                  {
                    "name": "usage",
                    "spec": [
                      {
                        "name": "prompt_tokens",
                        "type": "number",
                        "label": "Prompt Tokens"
                      },
                      {
                        "name": "completion_tokens",
                        "type": "text",
                        "label": "Completion Tokens"
                      },
                      {
                        "name": "total_tokens",
                        "type": "number",
                        "label": "Total Tokens"
                      },
                      {
                        "name": "prompt_tokens_details",
                        "spec": [
                          {
                            "name": "cached_tokens",
                            "type": "uinteger",
                            "label": "Cached Tokens"
                          },
                          {
                            "name": "text_tokens",
                            "type": "uinteger",
                            "label": "Text Tokens"
                          },
                          {
                            "name": "image_tokens",
                            "type": "uinteger",
                            "label": "Image Tokens"
                          },
                          {
                            "name": "audio_tokens",
                            "type": "uinteger",
                            "label": "Audio Tokens"
                          }
                        ],
                        "type": "collection",
                        "label": "Prompt Tokens Details"
                      },
                      {
                        "name": "completion_tokens_details",
                        "spec": [
                          {
                            "name": "reasoning_tokens",
                            "type": "uinteger",
                            "label": "Reasoning Tokens"
                          },
                          {
                            "name": "text_tokens",
                            "type": "uinteger",
                            "label": "Text Tokens"
                          },
                          {
                            "name": "audio_tokens",
                            "type": "uinteger",
                            "label": "Audio Tokens"
                          },
                          {
                            "name": "accepted_prediction_tokens",
                            "type": "uinteger",
                            "label": "Accepted Prediction Tokens"
                          },
                          {
                            "name": "rejected_prediction_tokens",
                            "type": "uinteger",
                            "label": "Rejected Prediction Tokens"
                          }
                        ],
                        "type": "collection",
                        "label": "Completion Tokens Details"
                      }
                    ],
                    "type": "collection",
                    "label": "Usage"
                  },
                  {
                    "name": "system_fingerprint",
                    "type": "text",
                    "label": "System Fingerprint"
                  }
                ]
              }
            },
            {
              "id": 19,
              "module": "relevance:executeATool",
              "version": 1,
              "parameters": {
                "__IMTCONN__": 1111111
              },
              "mapper": {
                "text": "{{18.result}}",
                "studioID": "aiwithnina-studio"
              },
              "metadata": {
                "designer": {
                  "x": 1818,
                  "y": 457
                },
                "restore": {
                  "expect": {
                    "studioID": {
                      "mode": "chose",
                      "label": "WORKING AIWITHNINA"
                    }
                  },
                  "parameters": {
                    "__IMTCONN__": {
                      "data": {
                        "scoped": "true",
                        "connection": "Relevance-abcd1x"
                      },
                      "label": "My Relevance AI connection"
                    }
                  }
                },
                "parameters": [
                  {
                    "name": "__IMTCONN__",
                    "type": "account:Relevance-abcd1x",
                    "label": "Connection",
                    "required": true
                  }
                ],
                "expect": [
                  {
                    "name": "studio_anonymous",
                    "type": "select",
                    "label": "Tool to use",
                    "required": true
                  },
                  {
                    "name": "text",
                    "type": "text",
                    "label": "User Query"
                  },
                  {
                    "name": "aiwithnina_trends_faq_csv",
                    "type": "text"
                  }
                ]
              }
            },
            {
              "id": 20,
              "module": "openai-gpt-3:CreateCompletion",
              "version": 1,
              "parameters": {
                "__IMTCONN__": 1111111
              },
              "mapper": {
                "select": "chat",
                "temperature": "1",
                "top_p": "1",
                "n_completions": "1",
                "model": "gpt-4o-mini",
                "max_tokens": "2048",
                "messages": [
                  {
                    "role": "system",
                    "content": "You are a expert email formatter that works for the customer support team at{Company name}\n\nYour role is transform the data in a HTML formatted email, that looks neat and tidy."
                  },
                  {
                    "role": "system",
                    "content": "In your HTML output, dont have \"html or anything else in the text."
                  },
                  {
                    "role": "user",
                    "content": "Here is the data to form into the email: {{19.data.answer}}\n\nHere is the customer question: {{2.text}}\n\nHere is the customer info:\n{{2.from.name}}{{2.from.address}}\n\n{Company detailes, name, sender etc}",
                    "imageDetail": "auto"
                  }
                ],
                "response_format": "text"
              },
              "metadata": {
                "designer": {
                  "x": 2118,
                  "y": 457
                },
                "restore": {
                  "parameters": {
                    "__IMTCONN__": {
                      "label": "Nina OpenAI",
                      "data": {
                        "scoped": "true",
                        "connection": "openai-gpt-3"
                      }
                    }
                  },
                  "expect": {
                    "select": {
                      "label": "Create a Chat Completion (GPT and o1 models)"
                    },
                    "logit_bias": {
                      "mode": "chose"
                    },
                    "stop": {
                      "mode": "chose"
                    },
                    "additionalParameters": {
                      "mode": "chose"
                    },
                    "model": {
                      "mode": "chose",
                      "label": "gpt-4o-mini (system)"
                    },
                    "messages": {
                      "mode": "chose",
                      "items": [
                        {
                          "role": {
                            "mode": "chose",
                            "label": "Developer / System"
                          }
                        },
                        {
                          "role": {
                            "mode": "chose",
                            "label": "Developer / System"
                          }
                        },
                        {
                          "role": {
                            "mode": "chose",
                            "label": "User"
                          },
                          "imageInputType": {
                            "mode": "chose",
                            "label": "Empty"
                          },
                          "imageDetail": {
                            "mode": "chose",
                            "label": "Auto"
                          }
                        }
                      ]
                    },
                    "response_format": {
                      "mode": "chose",
                      "label": "Text"
                    }
                  }
                },
                "parameters": [
                  {
                    "name": "__IMTCONN__",
                    "type": "account:openai-gpt-3",
                    "label": "Connection",
                    "required": true
                  }
                ],
                "expect": [
                  {
                    "name": "select",
                    "type": "select",
                    "label": "Select Method",
                    "required": true,
                    "validate": {
                      "enum": [
                        "chat",
                        "prompt"
                      ]
                    }
                  },
                  {
                    "name": "temperature",
                    "type": "number",
                    "label": "Temperature",
                    "validate": {
                      "max": 2,
                      "min": 0
                    }
                  },
                  {
                    "name": "top_p",
                    "type": "number",
                    "label": "Top P",
                    "validate": {
                      "max": 1,
                      "min": 0
                    }
                  },
                  {
                    "name": "n_completions",
                    "type": "number",
                    "label": "Number"
                  },
                  {
                    "name": "frequency_penalty",
                    "type": "number",
                    "label": "Frequency Penalty",
                    "validate": {
                      "max": 2,
                      "min": -2
                    }
                  },
                  {
                    "name": "presence_penalty",
                    "type": "number",
                    "label": "Presence Penalty",
                    "validate": {
                      "max": 2,
                      "min": -2
                    }
                  },
                  {
                    "name": "logit_bias",
                    "type": "array",
                    "label": "Token Probability",
                    "spec": {
                      "spec": [
                        {
                          "name": "token",
                          "type": "text",
                          "label": "Token ID",
                          "required": true
                        },
                        {
                          "name": "probability",
                          "type": "number",
                          "label": "Probability",
                          "required": true,
                          "validate": {
                            "max": 100,
                            "min": -100
                          }
                        }
                      ],
                      "type": "collection",
                      "label": "Token Probability",
                      "name": "value"
                    }
                  },
                  {
                    "name": "seed",
                    "type": "integer",
                    "label": "Seed"
                  },
                  {
                    "name": "stop",
                    "type": "array",
                    "label": "Stop Sequences",
                    "validate": {
                      "maxItems": 4
                    },
                    "spec": {
                      "type": "text",
                      "label": "Stop Sequence",
                      "name": "value"
                    }
                  },
                  {
                    "name": "additionalParameters",
                    "type": "array",
                    "label": "Other Input Parameters",
                    "spec": {
                      "spec": [
                        {
                          "name": "key",
                          "type": "text",
                          "label": "Parameter Name",
                          "required": true
                        },
                        {
                          "name": "type",
                          "type": "select",
                          "label": "Input Type",
                          "options": [
                            {
                              "label": "Text",
                              "value": "text",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "text",
                                  "label": "Parameter Value"
                                }
                              ],
                              "default": true
                            },
                            {
                              "label": "Number",
                              "value": "number",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "number",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Boolean",
                              "value": "boolean",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "boolean",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Date",
                              "value": "date",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "date",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Any",
                              "value": "any",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "any",
                                  "label": "Parameter Value"
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "type": "collection",
                      "label": "Input Parameter",
                      "name": "value"
                    }
                  },
                  {
                    "name": "model",
                    "type": "select",
                    "label": "Model",
                    "required": true
                  },
                  {
                    "name": "max_tokens",
                    "type": "uinteger",
                    "label": "Max Completion Tokens"
                  },
                  {
                    "name": "messages",
                    "type": "array",
                    "label": "Messages",
                    "required": true,
                    "spec": {
                      "label": "Message",
                      "type": "collection",
                      "spec": [
                        {
                          "name": "role",
                          "type": "select",
                          "label": "Role",
                          "required": true,
                          "options": {
                            "store": [
                              {
                                "label": "Developer / System",
                                "value": "system",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  }
                                ]
                              },
                              {
                                "label": "User",
                                "value": "user",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  },
                                  {
                                    "name": "imageInputType",
                                    "type": "select",
                                    "label": "Image Input Type",
                                    "mappable": false,
                                    "options": [
                                      {
                                        "value": "url",
                                        "label": "URL",
                                        "nested": [
                                          {
                                            "name": "imageUrl",
                                            "label": "Image URL",
                                            "type": "url",
                                            "help": "Make sure to use a publicly accessible URL.\nYou can test if your image is publicly accessible by opening the link in an incognito tab."
                                          }
                                        ]
                                      },
                                      {
                                        "value": "file",
                                        "label": "Image File",
                                        "nested": [
                                          {
                                            "name": "imageFile",
                                            "label": "Image",
                                            "type": "collection",
                                            "spec": [
                                              {
                                                "name": "imageFilename",
                                                "type": "filename",
                                                "label": "Image Filename",
                                                "semantic": "file:name",
                                                "extension": [
                                                  "jpg",
                                                  "jpeg",
                                                  "png",
                                                  "webp",
                                                  "gif"
                                                ],
                                                "help": "Accepted extensions: `.jpg`, `.jpeg`, `.png`, `.webp` and `.gif`."
                                              },
                                              {
                                                "name": "imageData",
                                                "type": "buffer",
                                                "label": "Image Data",
                                                "semantic": "file:data"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "name": "imageDetail",
                                    "type": "select",
                                    "label": "Image Detail",
                                    "advanced": true,
                                    "options": [
                                      {
                                        "value": "auto",
                                        "default": true,
                                        "label": "Auto"
                                      },
                                      {
                                        "value": "high",
                                        "label": "High"
                                      },
                                      {
                                        "value": "low",
                                        "label": "Low"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "label": "Assistant",
                                "value": "assistant",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ],
                      "name": "value"
                    }
                  },
                  {
                    "name": "response_format",
                    "type": "select",
                    "label": "Response Format",
                    "validate": {
                      "enum": [
                        "text",
                        "json_object"
                      ]
                    }
                  }
                ],
                "interface": [
                  {
                    "name": "result",
                    "type": "any",
                    "label": "Result"
                  },
                  {
                    "name": "id",
                    "type": "text",
                    "label": "ID"
                  },
                  {
                    "name": "object",
                    "type": "text",
                    "label": "Object"
                  },
                  {
                    "name": "created",
                    "type": "date",
                    "label": "Created"
                  },
                  {
                    "name": "model",
                    "type": "text",
                    "label": "Model"
                  },
                  {
                    "name": "choices",
                    "spec": {
                      "spec": [
                        {
                          "name": "text",
                          "type": "text",
                          "label": "Text"
                        },
                        {
                          "name": "index",
                          "type": "number",
                          "label": "Index"
                        },
                        {
                          "name": "logprobs",
                          "type": "text",
                          "label": "Log Probs"
                        },
                        {
                          "name": "finish_reason",
                          "type": "text",
                          "label": "Finish Reason"
                        },
                        {
                          "name": "message",
                          "spec": [
                            {
                              "name": "role",
                              "type": "text",
                              "label": "Role"
                            },
                            {
                              "name": "content",
                              "type": "text",
                              "label": "Content"
                            },
                            {
                              "name": "refusal",
                              "type": "text",
                              "label": "Refusal"
                            }
                          ],
                          "type": "collection",
                          "label": "Message"
                        }
                      ],
                      "type": "collection"
                    },
                    "type": "array",
                    "label": "Choices"
                  },
                  {
                    "name": "usage",
                    "spec": [
                      {
                        "name": "prompt_tokens",
                        "type": "number",
                        "label": "Prompt Tokens"
                      },
                      {
                        "name": "completion_tokens",
                        "type": "text",
                        "label": "Completion Tokens"
                      },
                      {
                        "name": "total_tokens",
                        "type": "number",
                        "label": "Total Tokens"
                      },
                      {
                        "name": "prompt_tokens_details",
                        "spec": [
                          {
                            "name": "cached_tokens",
                            "type": "uinteger",
                            "label": "Cached Tokens"
                          },
                          {
                            "name": "text_tokens",
                            "type": "uinteger",
                            "label": "Text Tokens"
                          },
                          {
                            "name": "image_tokens",
                            "type": "uinteger",
                            "label": "Image Tokens"
                          },
                          {
                            "name": "audio_tokens",
                            "type": "uinteger",
                            "label": "Audio Tokens"
                          }
                        ],
                        "type": "collection",
                        "label": "Prompt Tokens Details"
                      },
                      {
                        "name": "completion_tokens_details",
                        "spec": [
                          {
                            "name": "reasoning_tokens",
                            "type": "uinteger",
                            "label": "Reasoning Tokens"
                          },
                          {
                            "name": "text_tokens",
                            "type": "uinteger",
                            "label": "Text Tokens"
                          },
                          {
                            "name": "audio_tokens",
                            "type": "uinteger",
                            "label": "Audio Tokens"
                          },
                          {
                            "name": "accepted_prediction_tokens",
                            "type": "uinteger",
                            "label": "Accepted Prediction Tokens"
                          },
                          {
                            "name": "rejected_prediction_tokens",
                            "type": "uinteger",
                            "label": "Rejected Prediction Tokens"
                          }
                        ],
                        "type": "collection",
                        "label": "Completion Tokens Details"
                      }
                    ],
                    "type": "collection",
                    "label": "Usage"
                  },
                  {
                    "name": "system_fingerprint",
                    "type": "text",
                    "label": "System Fingerprint"
                  }
                ]
              }
            },
            {
              "id": 22,
              "module": "openai-gpt-3:CreateCompletion",
              "version": 1,
              "parameters": {
                "__IMTCONN__": 1111111
              },
              "mapper": {
                "select": "chat",
                "temperature": "1",
                "top_p": "1",
                "n_completions": "1",
                "model": "gpt-4o",
                "max_tokens": "2048",
                "messages": [
                  {
                    "role": "user",
                    "content": "Based off this email write a short and personalised email subject: {{20.result}}",
                    "imageDetail": "auto"
                  }
                ],
                "response_format": "text"
              },
              "metadata": {
                "designer": {
                  "x": 2418,
                  "y": 457
                },
                "restore": {
                  "parameters": {
                    "__IMTCONN__": {
                      "label": "Nina OpenAI",
                      "data": {
                        "scoped": "true",
                        "connection": "openai-gpt-3"
                      }
                    }
                  },
                  "expect": {
                    "select": {
                      "label": "Create a Chat Completion (GPT and o1 models)"
                    },
                    "logit_bias": {
                      "mode": "chose"
                    },
                    "stop": {
                      "mode": "chose"
                    },
                    "additionalParameters": {
                      "mode": "chose"
                    },
                    "model": {
                      "mode": "chose",
                      "label": "gpt-4o (system)"
                    },
                    "messages": {
                      "mode": "chose",
                      "items": [
                        {
                          "role": {
                            "mode": "chose",
                            "label": "User"
                          },
                          "imageInputType": {
                            "mode": "chose",
                            "label": "Empty"
                          },
                          "imageDetail": {
                            "mode": "chose",
                            "label": "Auto"
                          }
                        }
                      ]
                    },
                    "response_format": {
                      "mode": "chose",
                      "label": "Text"
                    }
                  }
                },
                "parameters": [
                  {
                    "name": "__IMTCONN__",
                    "type": "account:openai-gpt-3",
                    "label": "Connection",
                    "required": true
                  }
                ],
                "expect": [
                  {
                    "name": "select",
                    "type": "select",
                    "label": "Select Method",
                    "required": true,
                    "validate": {
                      "enum": [
                        "chat",
                        "prompt"
                      ]
                    }
                  },
                  {
                    "name": "temperature",
                    "type": "number",
                    "label": "Temperature",
                    "validate": {
                      "max": 2,
                      "min": 0
                    }
                  },
                  {
                    "name": "top_p",
                    "type": "number",
                    "label": "Top P",
                    "validate": {
                      "max": 1,
                      "min": 0
                    }
                  },
                  {
                    "name": "n_completions",
                    "type": "number",
                    "label": "Number"
                  },
                  {
                    "name": "frequency_penalty",
                    "type": "number",
                    "label": "Frequency Penalty",
                    "validate": {
                      "max": 2,
                      "min": -2
                    }
                  },
                  {
                    "name": "presence_penalty",
                    "type": "number",
                    "label": "Presence Penalty",
                    "validate": {
                      "max": 2,
                      "min": -2
                    }
                  },
                  {
                    "name": "logit_bias",
                    "type": "array",
                    "label": "Token Probability",
                    "spec": {
                      "spec": [
                        {
                          "name": "token",
                          "type": "text",
                          "label": "Token ID",
                          "required": true
                        },
                        {
                          "name": "probability",
                          "type": "number",
                          "label": "Probability",
                          "required": true,
                          "validate": {
                            "max": 100,
                            "min": -100
                          }
                        }
                      ],
                      "type": "collection",
                      "label": "Token Probability",
                      "name": "value"
                    }
                  },
                  {
                    "name": "seed",
                    "type": "integer",
                    "label": "Seed"
                  },
                  {
                    "name": "stop",
                    "type": "array",
                    "label": "Stop Sequences",
                    "validate": {
                      "maxItems": 4
                    },
                    "spec": {
                      "type": "text",
                      "label": "Stop Sequence",
                      "name": "value"
                    }
                  },
                  {
                    "name": "additionalParameters",
                    "type": "array",
                    "label": "Other Input Parameters",
                    "spec": {
                      "spec": [
                        {
                          "name": "key",
                          "type": "text",
                          "label": "Parameter Name",
                          "required": true
                        },
                        {
                          "name": "type",
                          "type": "select",
                          "label": "Input Type",
                          "options": [
                            {
                              "label": "Text",
                              "value": "text",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "text",
                                  "label": "Parameter Value"
                                }
                              ],
                              "default": true
                            },
                            {
                              "label": "Number",
                              "value": "number",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "number",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Boolean",
                              "value": "boolean",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "boolean",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Date",
                              "value": "date",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "date",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Any",
                              "value": "any",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "any",
                                  "label": "Parameter Value"
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "type": "collection",
                      "label": "Input Parameter",
                      "name": "value"
                    }
                  },
                  {
                    "name": "model",
                    "type": "select",
                    "label": "Model",
                    "required": true
                  },
                  {
                    "name": "max_tokens",
                    "type": "uinteger",
                    "label": "Max Completion Tokens"
                  },
                  {
                    "name": "messages",
                    "type": "array",
                    "label": "Messages",
                    "required": true,
                    "spec": {
                      "label": "Message",
                      "type": "collection",
                      "spec": [
                        {
                          "name": "role",
                          "type": "select",
                          "label": "Role",
                          "required": true,
                          "options": {
                            "store": [
                              {
                                "label": "Developer / System",
                                "value": "system",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  }
                                ]
                              },
                              {
                                "label": "User",
                                "value": "user",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  },
                                  {
                                    "name": "imageInputType",
                                    "type": "select",
                                    "label": "Image Input Type",
                                    "mappable": false,
                                    "options": [
                                      {
                                        "value": "url",
                                        "label": "URL",
                                        "nested": [
                                          {
                                            "name": "imageUrl",
                                            "label": "Image URL",
                                            "type": "url",
                                            "help": "Make sure to use a publicly accessible URL.\nYou can test if your image is publicly accessible by opening the link in an incognito tab."
                                          }
                                        ]
                                      },
                                      {
                                        "value": "file",
                                        "label": "Image File",
                                        "nested": [
                                          {
                                            "name": "imageFile",
                                            "label": "Image",
                                            "type": "collection",
                                            "spec": [
                                              {
                                                "name": "imageFilename",
                                                "type": "filename",
                                                "label": "Image Filename",
                                                "semantic": "file:name",
                                                "extension": [
                                                  "jpg",
                                                  "jpeg",
                                                  "png",
                                                  "webp",
                                                  "gif"
                                                ],
                                                "help": "Accepted extensions: `.jpg`, `.jpeg`, `.png`, `.webp` and `.gif`."
                                              },
                                              {
                                                "name": "imageData",
                                                "type": "buffer",
                                                "label": "Image Data",
                                                "semantic": "file:data"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "name": "imageDetail",
                                    "type": "select",
                                    "label": "Image Detail",
                                    "advanced": true,
                                    "options": [
                                      {
                                        "value": "auto",
                                        "default": true,
                                        "label": "Auto"
                                      },
                                      {
                                        "value": "high",
                                        "label": "High"
                                      },
                                      {
                                        "value": "low",
                                        "label": "Low"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "label": "Assistant",
                                "value": "assistant",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ],
                      "name": "value"
                    }
                  },
                  {
                    "name": "response_format",
                    "type": "select",
                    "label": "Response Format",
                    "validate": {
                      "enum": [
                        "text",
                        "json_object"
                      ]
                    }
                  }
                ],
                "interface": [
                  {
                    "name": "result",
                    "type": "any",
                    "label": "Result"
                  },
                  {
                    "name": "id",
                    "type": "text",
                    "label": "ID"
                  },
                  {
                    "name": "object",
                    "type": "text",
                    "label": "Object"
                  },
                  {
                    "name": "created",
                    "type": "date",
                    "label": "Created"
                  },
                  {
                    "name": "model",
                    "type": "text",
                    "label": "Model"
                  },
                  {
                    "name": "choices",
                    "spec": {
                      "spec": [
                        {
                          "name": "text",
                          "type": "text",
                          "label": "Text"
                        },
                        {
                          "name": "index",
                          "type": "number",
                          "label": "Index"
                        },
                        {
                          "name": "logprobs",
                          "type": "text",
                          "label": "Log Probs"
                        },
                        {
                          "name": "finish_reason",
                          "type": "text",
                          "label": "Finish Reason"
                        },
                        {
                          "name": "message",
                          "spec": [
                            {
                              "name": "role",
                              "type": "text",
                              "label": "Role"
                            },
                            {
                              "name": "content",
                              "type": "text",
                              "label": "Content"
                            },
                            {
                              "name": "refusal",
                              "type": "text",
                              "label": "Refusal"
                            }
                          ],
                          "type": "collection",
                          "label": "Message"
                        }
                      ],
                      "type": "collection"
                    },
                    "type": "array",
                    "label": "Choices"
                  },
                  {
                    "name": "usage",
                    "spec": [
                      {
                        "name": "prompt_tokens",
                        "type": "number",
                        "label": "Prompt Tokens"
                      },
                      {
                        "name": "completion_tokens",
                        "type": "text",
                        "label": "Completion Tokens"
                      },
                      {
                        "name": "total_tokens",
                        "type": "number",
                        "label": "Total Tokens"
                      },
                      {
                        "name": "prompt_tokens_details",
                        "spec": [
                          {
                            "name": "cached_tokens",
                            "type": "uinteger",
                            "label": "Cached Tokens"
                          },
                          {
                            "name": "text_tokens",
                            "type": "uinteger",
                            "label": "Text Tokens"
                          },
                          {
                            "name": "image_tokens",
                            "type": "uinteger",
                            "label": "Image Tokens"
                          },
                          {
                            "name": "audio_tokens",
                            "type": "uinteger",
                            "label": "Audio Tokens"
                          }
                        ],
                        "type": "collection",
                        "label": "Prompt Tokens Details"
                      },
                      {
                        "name": "completion_tokens_details",
                        "spec": [
                          {
                            "name": "reasoning_tokens",
                            "type": "uinteger",
                            "label": "Reasoning Tokens"
                          },
                          {
                            "name": "text_tokens",
                            "type": "uinteger",
                            "label": "Text Tokens"
                          },
                          {
                            "name": "audio_tokens",
                            "type": "uinteger",
                            "label": "Audio Tokens"
                          },
                          {
                            "name": "accepted_prediction_tokens",
                            "type": "uinteger",
                            "label": "Accepted Prediction Tokens"
                          },
                          {
                            "name": "rejected_prediction_tokens",
                            "type": "uinteger",
                            "label": "Rejected Prediction Tokens"
                          }
                        ],
                        "type": "collection",
                        "label": "Completion Tokens Details"
                      }
                    ],
                    "type": "collection",
                    "label": "Usage"
                  },
                  {
                    "name": "system_fingerprint",
                    "type": "text",
                    "label": "System Fingerprint"
                  }
                ]
              }
            },
            {
              "id": 21,
              "module": "email:ActionSendEmail",
              "version": 7,
              "parameters": {
                "account": 1579435,
                "saveAfterSent": false
              },
              "mapper": {
                "cc": [],
                "to": [
                  "{{2.from.address}}"
                ],
                "bcc": [],
                "from": "",
                "html": "{{20.result}}",
                "sender": "",
                "headers": [],
                "replyTo": "",
                "subject": "{{22.result}}",
                "priority": "normal",
                "inReplyTo": "",
                "references": [],
                "attachments": [],
                "contentType": "html"
              },
              "metadata": {
                "designer": {
                  "x": 2718,
                  "y": 457
                },
                "restore": {
                  "expect": {
                    "cc": {
                      "mode": "chose"
                    },
                    "to": {
                      "mode": "chose",
                      "items": [
                        null
                      ]
                    },
                    "bcc": {
                      "mode": "chose"
                    },
                    "priority": {
                      "label": "Normal"
                    },
                    "references": {
                      "mode": "chose"
                    },
                    "attachments": {
                      "mode": "chose"
                    },
                    "contentType": {
                      "label": "HTML"
                    }
                  },
                  "parameters": {
                    "account": {
                      "data": {
                        "scoped": "true",
                        "connection": "google-restricted"
                      },
                      "label": "My Google Restricted connection (Nina@automationcrmexpert.com)"
                    },
                    "saveAfterSent": {
                      "label": "No"
                    }
                  }
                },
                "parameters": [
                  {
                    "name": "account",
                    "type": "account:smtp,google-restricted,microsoft-smtp-imap",
                    "label": "Connection",
                    "required": true
                  },
                  {
                    "name": "saveAfterSent",
                    "type": "select",
                    "label": "Save message after sending",
                    "required": true,
                    "validate": {
                      "enum": [
                        true,
                        false
                      ]
                    }
                  },
                  {
                    "type": "hidden"
                  }
                ],
                "expect": [
                  {
                    "name": "to",
                    "spec": {
                      "name": "value",
                      "type": "email",
                      "label": "Email address",
                      "required": true
                    },
                    "type": "array",
                    "label": "To",
                    "required": true
                  },
                  {
                    "name": "subject",
                    "type": "text",
                    "label": "Subject"
                  },
                  {
                    "name": "contentType",
                    "type": "select",
                    "label": "Content Type",
                    "required": true,
                    "validate": {
                      "enum": [
                        "html",
                        "text"
                      ]
                    }
                  },
                  {
                    "name": "attachments",
                    "spec": [
                      {
                        "name": "fileName",
                        "type": "filename",
                        "label": "File name",
                        "required": true,
                        "semantic": "file:name"
                      },
                      {
                        "name": "data",
                        "type": "buffer",
                        "label": "Data",
                        "required": true,
                        "semantic": "file:data"
                      },
                      {
                        "name": "cid",
                        "type": "text",
                        "label": "Content-ID"
                      }
                    ],
                    "type": "array",
                    "label": "Attachments"
                  },
                  {
                    "name": "cc",
                    "spec": {
                      "name": "value",
                      "type": "email",
                      "label": "Email address"
                    },
                    "type": "array",
                    "label": "Copy recipient"
                  },
                  {
                    "name": "bcc",
                    "spec": {
                      "name": "value",
                      "type": "email",
                      "label": "Email address"
                    },
                    "type": "array",
                    "label": "Blind copy recipient"
                  },
                  {
                    "name": "from",
                    "type": "text",
                    "label": "From"
                  },
                  {
                    "name": "sender",
                    "type": "text",
                    "label": "Sender"
                  },
                  {
                    "name": "replyTo",
                    "type": "text",
                    "label": "Reply-To"
                  },
                  {
                    "name": "inReplyTo",
                    "type": "text",
                    "label": "In-Reply-To"
                  },
                  {
                    "name": "references",
                    "spec": {
                      "name": "value",
                      "type": "text",
                      "label": "Reference",
                      "required": true
                    },
                    "type": "array",
                    "label": "References"
                  },
                  {
                    "name": "priority",
                    "type": "select",
                    "label": "Priority",
                    "validate": {
                      "enum": [
                        "high",
                        "normal",
                        "low"
                      ]
                    }
                  },
                  {
                    "name": "headers",
                    "spec": [
                      {
                        "name": "key",
                        "type": "text",
                        "label": "Key",
                        "required": true
                      },
                      {
                        "name": "value",
                        "type": "text",
                        "label": "Value",
                        "required": true
                      }
                    ],
                    "type": "array",
                    "label": "Headers"
                  },
                  {
                    "name": "html",
                    "type": "text",
                    "label": "Content"
                  }
                ]
              }
            }
          ]
        },
        {
          "flow": [
            {
              "id": 23,
              "module": "openai-gpt-3:CreateCompletion",
              "version": 1,
              "parameters": {
                "__IMTCONN__": 1111111
              },
              "filter": {
                "name": "Low priority: ",
                "conditions": [
                  [
                    {
                      "a": "{{6.result}}",
                      "b": "3",
                      "o": "number:equal"
                    }
                  ]
                ]
              },
              "mapper": {
                "select": "chat",
                "temperature": "1",
                "top_p": "1",
                "n_completions": "1",
                "model": "gpt-4o-mini",
                "max_tokens": "2048",
                "messages": [
                  {
                    "role": "system",
                    "content": "You are an expert text analyser who works for the customer support team of {company name}\n\nYou are dealing with a low prioirty support ticket and you have to decide on:\n\n1. If the user needs a detailed response taken from the{Company Name} knowledge base\n\nor\n\n2. If the user DOES NOT need a detailed knowledge response, rather just a escalation to the internal team.\n\nIf the user DOES need a detailed knowledge response, output: \"1\"\n\nIf the user DOES NOT need a detailed knowledge response output: \"2\"\n\nThis task is highly important and you best efforts are required.\n\n\u200b"
                  },
                  {
                    "role": "system",
                    "content": "Here are examples of Outputs:\n~\nThe users input:\n\"A generic question, that isn't important but needs answered.\"\n\nYour output: \"1\"\n\nThe users input: \n\"No question, for example a thank you or follow-up\"\n\"2\"\n\n{{{Add}}{{more}}{{exqamples}}{{based}}{{off}}{{specific}}{{business}}}"
                  },
                  {
                    "role": "system",
                    "content": "You must only output either \"1\" or \"2\" - no other text."
                  },
                  {
                    "role": "user",
                    "content": "A low prioirty customer inquiry has came through, here are the details:\n\nSubject: {{2.subject}}\nBody: {{2.text}}",
                    "imageDetail": "auto"
                  },
                  {
                    "role": "system",
                    "content": "You are dealing with inquiries that are more than likely basic follow-ups or compliments, nothing serious.\n\nYou are simply idenitfying if the low prioirity email requires some info from{Company Name} knowledge base."
                  }
                ],
                "response_format": "text"
              },
              "metadata": {
                "designer": {
                  "x": 1490,
                  "y": 1282
                },
                "restore": {
                  "parameters": {
                    "__IMTCONN__": {
                      "label": "Nina OpenAI",
                      "data": {
                        "scoped": "true",
                        "connection": "openai-gpt-3"
                      }
                    }
                  },
                  "expect": {
                    "select": {
                      "label": "Create a Chat Completion (GPT and o1 models)"
                    },
                    "logit_bias": {
                      "mode": "chose"
                    },
                    "stop": {
                      "mode": "chose"
                    },
                    "additionalParameters": {
                      "mode": "chose"
                    },
                    "model": {
                      "mode": "chose",
                      "label": "gpt-4o-mini (system)"
                    },
                    "messages": {
                      "mode": "chose",
                      "items": [
                        {
                          "role": {
                            "mode": "chose",
                            "label": "Developer / System"
                          }
                        },
                        {
                          "role": {
                            "mode": "chose",
                            "label": "Developer / System"
                          }
                        },
                        {
                          "role": {
                            "mode": "chose",
                            "label": "Developer / System"
                          }
                        },
                        {
                          "role": {
                            "mode": "chose",
                            "label": "User"
                          },
                          "imageInputType": {
                            "mode": "chose",
                            "label": "Empty"
                          },
                          "imageDetail": {
                            "mode": "chose",
                            "label": "Auto"
                          }
                        },
                        {
                          "role": {
                            "mode": "chose",
                            "label": "Developer / System"
                          }
                        }
                      ]
                    },
                    "response_format": {
                      "mode": "chose",
                      "label": "Text"
                    }
                  }
                },
                "parameters": [
                  {
                    "name": "__IMTCONN__",
                    "type": "account:openai-gpt-3",
                    "label": "Connection",
                    "required": true
                  }
                ],
                "expect": [
                  {
                    "name": "select",
                    "type": "select",
                    "label": "Select Method",
                    "required": true,
                    "validate": {
                      "enum": [
                        "chat",
                        "prompt"
                      ]
                    }
                  },
                  {
                    "name": "temperature",
                    "type": "number",
                    "label": "Temperature",
                    "validate": {
                      "max": 2,
                      "min": 0
                    }
                  },
                  {
                    "name": "top_p",
                    "type": "number",
                    "label": "Top P",
                    "validate": {
                      "max": 1,
                      "min": 0
                    }
                  },
                  {
                    "name": "n_completions",
                    "type": "number",
                    "label": "Number"
                  },
                  {
                    "name": "frequency_penalty",
                    "type": "number",
                    "label": "Frequency Penalty",
                    "validate": {
                      "max": 2,
                      "min": -2
                    }
                  },
                  {
                    "name": "presence_penalty",
                    "type": "number",
                    "label": "Presence Penalty",
                    "validate": {
                      "max": 2,
                      "min": -2
                    }
                  },
                  {
                    "name": "logit_bias",
                    "type": "array",
                    "label": "Token Probability",
                    "spec": {
                      "spec": [
                        {
                          "name": "token",
                          "type": "text",
                          "label": "Token ID",
                          "required": true
                        },
                        {
                          "name": "probability",
                          "type": "number",
                          "label": "Probability",
                          "required": true,
                          "validate": {
                            "max": 100,
                            "min": -100
                          }
                        }
                      ],
                      "type": "collection",
                      "label": "Token Probability",
                      "name": "value"
                    }
                  },
                  {
                    "name": "seed",
                    "type": "integer",
                    "label": "Seed"
                  },
                  {
                    "name": "stop",
                    "type": "array",
                    "label": "Stop Sequences",
                    "validate": {
                      "maxItems": 4
                    },
                    "spec": {
                      "type": "text",
                      "label": "Stop Sequence",
                      "name": "value"
                    }
                  },
                  {
                    "name": "additionalParameters",
                    "type": "array",
                    "label": "Other Input Parameters",
                    "spec": {
                      "spec": [
                        {
                          "name": "key",
                          "type": "text",
                          "label": "Parameter Name",
                          "required": true
                        },
                        {
                          "name": "type",
                          "type": "select",
                          "label": "Input Type",
                          "options": [
                            {
                              "label": "Text",
                              "value": "text",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "text",
                                  "label": "Parameter Value"
                                }
                              ],
                              "default": true
                            },
                            {
                              "label": "Number",
                              "value": "number",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "number",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Boolean",
                              "value": "boolean",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "boolean",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Date",
                              "value": "date",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "date",
                                  "label": "Parameter Value"
                                }
                              ]
                            },
                            {
                              "label": "Any",
                              "value": "any",
                              "nested": [
                                {
                                  "name": "value",
                                  "type": "any",
                                  "label": "Parameter Value"
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "type": "collection",
                      "label": "Input Parameter",
                      "name": "value"
                    }
                  },
                  {
                    "name": "model",
                    "type": "select",
                    "label": "Model",
                    "required": true
                  },
                  {
                    "name": "max_tokens",
                    "type": "uinteger",
                    "label": "Max Completion Tokens"
                  },
                  {
                    "name": "messages",
                    "type": "array",
                    "label": "Messages",
                    "required": true,
                    "spec": {
                      "label": "Message",
                      "type": "collection",
                      "spec": [
                        {
                          "name": "role",
                          "type": "select",
                          "label": "Role",
                          "required": true,
                          "options": {
                            "store": [
                              {
                                "label": "Developer / System",
                                "value": "system",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  }
                                ]
                              },
                              {
                                "label": "User",
                                "value": "user",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  },
                                  {
                                    "name": "imageInputType",
                                    "type": "select",
                                    "label": "Image Input Type",
                                    "mappable": false,
                                    "options": [
                                      {
                                        "value": "url",
                                        "label": "URL",
                                        "nested": [
                                          {
                                            "name": "imageUrl",
                                            "label": "Image URL",
                                            "type": "url",
                                            "help": "Make sure to use a publicly accessible URL.\nYou can test if your image is publicly accessible by opening the link in an incognito tab."
                                          }
                                        ]
                                      },
                                      {
                                        "value": "file",
                                        "label": "Image File",
                                        "nested": [
                                          {
                                            "name": "imageFile",
                                            "label": "Image",
                                            "type": "collection",
                                            "spec": [
                                              {
                                                "name": "imageFilename",
                                                "type": "filename",
                                                "label": "Image Filename",
                                                "semantic": "file:name",
                                                "extension": [
                                                  "jpg",
                                                  "jpeg",
                                                  "png",
                                                  "webp",
                                                  "gif"
                                                ],
                                                "help": "Accepted extensions: `.jpg`, `.jpeg`, `.png`, `.webp` and `.gif`."
                                              },
                                              {
                                                "name": "imageData",
                                                "type": "buffer",
                                                "label": "Image Data",
                                                "semantic": "file:data"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "name": "imageDetail",
                                    "type": "select",
                                    "label": "Image Detail",
                                    "advanced": true,
                                    "options": [
                                      {
                                        "value": "auto",
                                        "default": true,
                                        "label": "Auto"
                                      },
                                      {
                                        "value": "high",
                                        "label": "High"
                                      },
                                      {
                                        "value": "low",
                                        "label": "Low"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "label": "Assistant",
                                "value": "assistant",
                                "nested": [
                                  {
                                    "help": "Text content of the message on behalf of the selected __Role__.",
                                    "name": "content",
                                    "type": "text",
                                    "label": "Text Content"
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ],
                      "name": "value"
                    }
                  },
                  {
                    "name": "response_format",
                    "type": "select",
                    "label": "Response Format",
                    "validate": {
                      "enum": [
                        "text",
                        "json_object"
                      ]
                    }
                  }
                ],
                "interface": [
                  {
                    "name": "result",
                    "type": "any",
                    "label": "Result"
                  },
                  {
                    "name": "id",
                    "type": "text",
                    "label": "ID"
                  },
                  {
                    "name": "object",
                    "type": "text",
                    "label": "Object"
                  },
                  {
                    "name": "created",
                    "type": "date",
                    "label": "Created"
                  },
                  {
                    "name": "model",
                    "type": "text",
                    "label": "Model"
                  },
                  {
                    "name": "choices",
                    "spec": {
                      "spec": [
                        {
                          "name": "text",
                          "type": "text",
                          "label": "Text"
                        },
                        {
                          "name": "index",
                          "type": "number",
                          "label": "Index"
                        },
                        {
                          "name": "logprobs",
                          "type": "text",
                          "label": "Log Probs"
                        },
                        {
                          "name": "finish_reason",
                          "type": "text",
                          "label": "Finish Reason"
                        },
                        {
                          "name": "message",
                          "spec": [
                            {
                              "name": "role",
                              "type": "text",
                              "label": "Role"
                            },
                            {
                              "name": "content",
                              "type": "text",
                              "label": "Content"
                            },
                            {
                              "name": "refusal",
                              "type": "text",
                              "label": "Refusal"
                            }
                          ],
                          "type": "collection",
                          "label": "Message"
                        }
                      ],
                      "type": "collection"
                    },
                    "type": "array",
                    "label": "Choices"
                  },
                  {
                    "name": "usage",
                    "spec": [
                      {
                        "name": "prompt_tokens",
                        "type": "number",
                        "label": "Prompt Tokens"
                      },
                      {
                        "name": "completion_tokens",
                        "type": "text",
                        "label": "Completion Tokens"
                      },
                      {
                        "name": "total_tokens",
                        "type": "number",
                        "label": "Total Tokens"
                      },
                      {
                        "name": "prompt_tokens_details",
                        "spec": [
                          {
                            "name": "cached_tokens",
                            "type": "uinteger",
                            "label": "Cached Tokens"
                          },
                          {
                            "name": "text_tokens",
                            "type": "uinteger",
                            "label": "Text Tokens"
                          },
                          {
                            "name": "image_tokens",
                            "type": "uinteger",
                            "label": "Image Tokens"
                          },
                          {
                            "name": "audio_tokens",
                            "type": "uinteger",
                            "label": "Audio Tokens"
                          }
                        ],
                        "type": "collection",
                        "label": "Prompt Tokens Details"
                      },
                      {
                        "name": "completion_tokens_details",
                        "spec": [
                          {
                            "name": "reasoning_tokens",
                            "type": "uinteger",
                            "label": "Reasoning Tokens"
                          },
                          {
                            "name": "text_tokens",
                            "type": "uinteger",
                            "label": "Text Tokens"
                          },
                          {
                            "name": "audio_tokens",
                            "type": "uinteger",
                            "label": "Audio Tokens"
                          },
                          {
                            "name": "accepted_prediction_tokens",
                            "type": "uinteger",
                            "label": "Accepted Prediction Tokens"
                          },
                          {
                            "name": "rejected_prediction_tokens",
                            "type": "uinteger",
                            "label": "Rejected Prediction Tokens"
                          }
                        ],
                        "type": "collection",
                        "label": "Completion Tokens Details"
                      }
                    ],
                    "type": "collection",
                    "label": "Usage"
                  },
                  {
                    "name": "system_fingerprint",
                    "type": "text",
                    "label": "System Fingerprint"
                  }
                ]
              }
            },
            {
              "id": 24,
              "module": "builtin:BasicRouter",
              "version": 1,
              "mapper": null,
              "metadata": {
                "designer": {
                  "x": 1790,
                  "y": 1282
                }
              },
              "routes": [
                {
                  "flow": [
                    {
                      "id": 25,
                      "module": "relevance:executeATool",
                      "version": 1,
                      "parameters": {
                        "__IMTCONN__": 1111111
                      },
                      "filter": {
                        "name": "",
                        "conditions": [
                          [
                            {
                              "a": "{{23.result}}",
                              "b": "1",
                              "o": "number:equal"
                            }
                          ]
                        ]
                      },
                      "mapper": {
                        "studioID": "aiwithnina-studio",
                        "text": "{{2.text}}"
                      },
                      "metadata": {
                        "designer": {
                          "x": 2090,
                          "y": 1132
                        },
                        "restore": {
                          "parameters": {
                            "__IMTCONN__": {
                              "label": "My Relevance AI connection",
                              "data": {
                                "scoped": "true",
                                "connection": "Relevance-abcd1x"
                              }
                            }
                          },
                          "expect": {
                            "studioID": {
                              "mode": "chose",
                              "label": "WORKING AIWITHNINA"
                            }
                          }
                        },
                        "parameters": [
                          {
                            "name": "__IMTCONN__",
                            "type": "account:Relevance-abcd1x",
                            "label": "Connection",
                            "required": true
                          }
                        ],
                        "expect": [
                          {
                            "name": "studio_anonymous",
                            "type": "select",
                            "label": "Tool to use",
                            "required": true
                          },
                          {
                            "name": "text",
                            "type": "text",
                            "label": "User Query"
                          },
                          {
                            "name": "aiwithnina_trends_faq_csv",
                            "type": "text"
                          }
                        ]
                      }
                    },
                    {
                      "id": 29,
                      "module": "openai-gpt-3:CreateCompletion",
                      "version": 1,
                      "parameters": {
                        "__IMTCONN__": 1111111
                      },
                      "mapper": {
                        "select": "chat",
                        "temperature": "1",
                        "top_p": "1",
                        "n_completions": "1",
                        "model": "gpt-4o-mini",
                        "max_tokens": "2048",
                        "messages": [
                          {
                            "role": "system",
                            "content": "You are a expert email formatter that works for the customer support team at{companye Name}\n\nYour role is transform the data in a HTML formatted email, that looks neat and tidy."
                          },
                          {
                            "role": "system",
                            "content": "In your HTML output, dont have \"html or anything else in the text."
                          },
                          {
                            "role": "user",
                            "content": "Here is the data to form into the email: \n{{25.data.answer}}\nHere is the customer question: {{2.text}}\n\nHere is the customer info:\n{{2.from.name}}{{2.from.address}}\n\n{Company details, name, sender etc}",
                            "imageDetail": "auto"
                          }
                        ],
                        "response_format": "text"
                      },
                      "metadata": {
                        "designer": {
                          "x": 2402,
                          "y": 1127
                        },
                        "restore": {
                          "parameters": {
                            "__IMTCONN__": {
                              "label": "Nina OpenAI",
                              "data": {
                                "scoped": "true",
                                "connection": "openai-gpt-3"
                              }
                            }
                          },
                          "expect": {
                            "select": {
                              "label": "Create a Chat Completion (GPT and o1 models)"
                            },
                            "logit_bias": {
                              "mode": "chose"
                            },
                            "stop": {
                              "mode": "chose"
                            },
                            "additionalParameters": {
                              "mode": "chose"
                            },
                            "model": {
                              "mode": "chose",
                              "label": "gpt-4o-mini (system)"
                            },
                            "messages": {
                              "mode": "chose",
                              "items": [
                                {
                                  "role": {
                                    "mode": "chose",
                                    "label": "Developer / System"
                                  }
                                },
                                {
                                  "role": {
                                    "mode": "chose",
                                    "label": "Developer / System"
                                  }
                                },
                                {
                                  "role": {
                                    "mode": "chose",
                                    "label": "User"
                                  },
                                  "imageInputType": {
                                    "mode": "chose",
                                    "label": "Empty"
                                  },
                                  "imageDetail": {
                                    "mode": "chose",
                                    "label": "Auto"
                                  }
                                }
                              ]
                            },
                            "response_format": {
                              "mode": "chose",
                              "label": "Text"
                            }
                          }
                        },
                        "parameters": [
                          {
                            "name": "__IMTCONN__",
                            "type": "account:openai-gpt-3",
                            "label": "Connection",
                            "required": true
                          }
                        ],
                        "expect": [
                          {
                            "name": "select",
                            "type": "select",
                            "label": "Select Method",
                            "required": true,
                            "validate": {
                              "enum": [
                                "chat",
                                "prompt"
                              ]
                            }
                          },
                          {
                            "name": "temperature",
                            "type": "number",
                            "label": "Temperature",
                            "validate": {
                              "max": 2,
                              "min": 0
                            }
                          },
                          {
                            "name": "top_p",
                            "type": "number",
                            "label": "Top P",
                            "validate": {
                              "max": 1,
                              "min": 0
                            }
                          },
                          {
                            "name": "n_completions",
                            "type": "number",
                            "label": "Number"
                          },
                          {
                            "name": "frequency_penalty",
                            "type": "number",
                            "label": "Frequency Penalty",
                            "validate": {
                              "max": 2,
                              "min": -2
                            }
                          },
                          {
                            "name": "presence_penalty",
                            "type": "number",
                            "label": "Presence Penalty",
                            "validate": {
                              "max": 2,
                              "min": -2
                            }
                          },
                          {
                            "name": "logit_bias",
                            "type": "array",
                            "label": "Token Probability",
                            "spec": {
                              "spec": [
                                {
                                  "name": "token",
                                  "type": "text",
                                  "label": "Token ID",
                                  "required": true
                                },
                                {
                                  "name": "probability",
                                  "type": "number",
                                  "label": "Probability",
                                  "required": true,
                                  "validate": {
                                    "max": 100,
                                    "min": -100
                                  }
                                }
                              ],
                              "type": "collection",
                              "label": "Token Probability",
                              "name": "value"
                            }
                          },
                          {
                            "name": "seed",
                            "type": "integer",
                            "label": "Seed"
                          },
                          {
                            "name": "stop",
                            "type": "array",
                            "label": "Stop Sequences",
                            "validate": {
                              "maxItems": 4
                            },
                            "spec": {
                              "type": "text",
                              "label": "Stop Sequence",
                              "name": "value"
                            }
                          },
                          {
                            "name": "additionalParameters",
                            "type": "array",
                            "label": "Other Input Parameters",
                            "spec": {
                              "spec": [
                                {
                                  "name": "key",
                                  "type": "text",
                                  "label": "Parameter Name",
                                  "required": true
                                },
                                {
                                  "name": "type",
                                  "type": "select",
                                  "label": "Input Type",
                                  "options": [
                                    {
                                      "label": "Text",
                                      "value": "text",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "text",
                                          "label": "Parameter Value"
                                        }
                                      ],
                                      "default": true
                                    },
                                    {
                                      "label": "Number",
                                      "value": "number",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "number",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Boolean",
                                      "value": "boolean",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "boolean",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Date",
                                      "value": "date",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "date",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Any",
                                      "value": "any",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "any",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "type": "collection",
                              "label": "Input Parameter",
                              "name": "value"
                            }
                          },
                          {
                            "name": "model",
                            "type": "select",
                            "label": "Model",
                            "required": true
                          },
                          {
                            "name": "max_tokens",
                            "type": "uinteger",
                            "label": "Max Completion Tokens"
                          },
                          {
                            "name": "messages",
                            "type": "array",
                            "label": "Messages",
                            "required": true,
                            "spec": {
                              "label": "Message",
                              "type": "collection",
                              "spec": [
                                {
                                  "name": "role",
                                  "type": "select",
                                  "label": "Role",
                                  "required": true,
                                  "options": {
                                    "store": [
                                      {
                                        "label": "Developer / System",
                                        "value": "system",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          }
                                        ]
                                      },
                                      {
                                        "label": "User",
                                        "value": "user",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          },
                                          {
                                            "name": "imageInputType",
                                            "type": "select",
                                            "label": "Image Input Type",
                                            "mappable": false,
                                            "options": [
                                              {
                                                "value": "url",
                                                "label": "URL",
                                                "nested": [
                                                  {
                                                    "name": "imageUrl",
                                                    "label": "Image URL",
                                                    "type": "url",
                                                    "help": "Make sure to use a publicly accessible URL.\nYou can test if your image is publicly accessible by opening the link in an incognito tab."
                                                  }
                                                ]
                                              },
                                              {
                                                "value": "file",
                                                "label": "Image File",
                                                "nested": [
                                                  {
                                                    "name": "imageFile",
                                                    "label": "Image",
                                                    "type": "collection",
                                                    "spec": [
                                                      {
                                                        "name": "imageFilename",
                                                        "type": "filename",
                                                        "label": "Image Filename",
                                                        "semantic": "file:name",
                                                        "extension": [
                                                          "jpg",
                                                          "jpeg",
                                                          "png",
                                                          "webp",
                                                          "gif"
                                                        ],
                                                        "help": "Accepted extensions: `.jpg`, `.jpeg`, `.png`, `.webp` and `.gif`."
                                                      },
                                                      {
                                                        "name": "imageData",
                                                        "type": "buffer",
                                                        "label": "Image Data",
                                                        "semantic": "file:data"
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "name": "imageDetail",
                                            "type": "select",
                                            "label": "Image Detail",
                                            "advanced": true,
                                            "options": [
                                              {
                                                "value": "auto",
                                                "default": true,
                                                "label": "Auto"
                                              },
                                              {
                                                "value": "high",
                                                "label": "High"
                                              },
                                              {
                                                "value": "low",
                                                "label": "Low"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "label": "Assistant",
                                        "value": "assistant",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              ],
                              "name": "value"
                            }
                          },
                          {
                            "name": "response_format",
                            "type": "select",
                            "label": "Response Format",
                            "validate": {
                              "enum": [
                                "text",
                                "json_object"
                              ]
                            }
                          }
                        ],
                        "interface": [
                          {
                            "name": "result",
                            "type": "any",
                            "label": "Result"
                          },
                          {
                            "name": "id",
                            "type": "text",
                            "label": "ID"
                          },
                          {
                            "name": "object",
                            "type": "text",
                            "label": "Object"
                          },
                          {
                            "name": "created",
                            "type": "date",
                            "label": "Created"
                          },
                          {
                            "name": "model",
                            "type": "text",
                            "label": "Model"
                          },
                          {
                            "name": "choices",
                            "spec": {
                              "spec": [
                                {
                                  "name": "text",
                                  "type": "text",
                                  "label": "Text"
                                },
                                {
                                  "name": "index",
                                  "type": "number",
                                  "label": "Index"
                                },
                                {
                                  "name": "logprobs",
                                  "type": "text",
                                  "label": "Log Probs"
                                },
                                {
                                  "name": "finish_reason",
                                  "type": "text",
                                  "label": "Finish Reason"
                                },
                                {
                                  "name": "message",
                                  "spec": [
                                    {
                                      "name": "role",
                                      "type": "text",
                                      "label": "Role"
                                    },
                                    {
                                      "name": "content",
                                      "type": "text",
                                      "label": "Content"
                                    },
                                    {
                                      "name": "refusal",
                                      "type": "text",
                                      "label": "Refusal"
                                    }
                                  ],
                                  "type": "collection",
                                  "label": "Message"
                                }
                              ],
                              "type": "collection"
                            },
                            "type": "array",
                            "label": "Choices"
                          },
                          {
                            "name": "usage",
                            "spec": [
                              {
                                "name": "prompt_tokens",
                                "type": "number",
                                "label": "Prompt Tokens"
                              },
                              {
                                "name": "completion_tokens",
                                "type": "text",
                                "label": "Completion Tokens"
                              },
                              {
                                "name": "total_tokens",
                                "type": "number",
                                "label": "Total Tokens"
                              },
                              {
                                "name": "prompt_tokens_details",
                                "spec": [
                                  {
                                    "name": "cached_tokens",
                                    "type": "uinteger",
                                    "label": "Cached Tokens"
                                  },
                                  {
                                    "name": "text_tokens",
                                    "type": "uinteger",
                                    "label": "Text Tokens"
                                  },
                                  {
                                    "name": "image_tokens",
                                    "type": "uinteger",
                                    "label": "Image Tokens"
                                  },
                                  {
                                    "name": "audio_tokens",
                                    "type": "uinteger",
                                    "label": "Audio Tokens"
                                  }
                                ],
                                "type": "collection",
                                "label": "Prompt Tokens Details"
                              },
                              {
                                "name": "completion_tokens_details",
                                "spec": [
                                  {
                                    "name": "reasoning_tokens",
                                    "type": "uinteger",
                                    "label": "Reasoning Tokens"
                                  },
                                  {
                                    "name": "text_tokens",
                                    "type": "uinteger",
                                    "label": "Text Tokens"
                                  },
                                  {
                                    "name": "audio_tokens",
                                    "type": "uinteger",
                                    "label": "Audio Tokens"
                                  },
                                  {
                                    "name": "accepted_prediction_tokens",
                                    "type": "uinteger",
                                    "label": "Accepted Prediction Tokens"
                                  },
                                  {
                                    "name": "rejected_prediction_tokens",
                                    "type": "uinteger",
                                    "label": "Rejected Prediction Tokens"
                                  }
                                ],
                                "type": "collection",
                                "label": "Completion Tokens Details"
                              }
                            ],
                            "type": "collection",
                            "label": "Usage"
                          },
                          {
                            "name": "system_fingerprint",
                            "type": "text",
                            "label": "System Fingerprint"
                          }
                        ]
                      }
                    },
                    {
                      "id": 30,
                      "module": "openai-gpt-3:CreateCompletion",
                      "version": 1,
                      "parameters": {
                        "__IMTCONN__": 1111111
                      },
                      "mapper": {
                        "select": "chat",
                        "temperature": "1",
                        "top_p": "1",
                        "n_completions": "1",
                        "model": "gpt-4o",
                        "max_tokens": "2048",
                        "messages": [
                          {
                            "role": "user",
                            "content": "Based off this email write a short and personalised email subject: {{29.result}}",
                            "imageDetail": "auto"
                          }
                        ],
                        "response_format": "text"
                      },
                      "metadata": {
                        "designer": {
                          "x": 2693,
                          "y": 1134
                        },
                        "restore": {
                          "parameters": {
                            "__IMTCONN__": {
                              "label": "Nina OpenAI",
                              "data": {
                                "scoped": "true",
                                "connection": "openai-gpt-3"
                              }
                            }
                          },
                          "expect": {
                            "select": {
                              "label": "Create a Chat Completion (GPT and o1 models)"
                            },
                            "logit_bias": {
                              "mode": "chose"
                            },
                            "stop": {
                              "mode": "chose"
                            },
                            "additionalParameters": {
                              "mode": "chose"
                            },
                            "model": {
                              "mode": "chose",
                              "label": "gpt-4o (system)"
                            },
                            "messages": {
                              "mode": "chose",
                              "items": [
                                {
                                  "role": {
                                    "mode": "chose",
                                    "label": "User"
                                  },
                                  "imageInputType": {
                                    "mode": "chose",
                                    "label": "Empty"
                                  },
                                  "imageDetail": {
                                    "mode": "chose",
                                    "label": "Auto"
                                  }
                                }
                              ]
                            },
                            "response_format": {
                              "mode": "chose",
                              "label": "Text"
                            }
                          }
                        },
                        "parameters": [
                          {
                            "name": "__IMTCONN__",
                            "type": "account:openai-gpt-3",
                            "label": "Connection",
                            "required": true
                          }
                        ],
                        "expect": [
                          {
                            "name": "select",
                            "type": "select",
                            "label": "Select Method",
                            "required": true,
                            "validate": {
                              "enum": [
                                "chat",
                                "prompt"
                              ]
                            }
                          },
                          {
                            "name": "temperature",
                            "type": "number",
                            "label": "Temperature",
                            "validate": {
                              "max": 2,
                              "min": 0
                            }
                          },
                          {
                            "name": "top_p",
                            "type": "number",
                            "label": "Top P",
                            "validate": {
                              "max": 1,
                              "min": 0
                            }
                          },
                          {
                            "name": "n_completions",
                            "type": "number",
                            "label": "Number"
                          },
                          {
                            "name": "frequency_penalty",
                            "type": "number",
                            "label": "Frequency Penalty",
                            "validate": {
                              "max": 2,
                              "min": -2
                            }
                          },
                          {
                            "name": "presence_penalty",
                            "type": "number",
                            "label": "Presence Penalty",
                            "validate": {
                              "max": 2,
                              "min": -2
                            }
                          },
                          {
                            "name": "logit_bias",
                            "type": "array",
                            "label": "Token Probability",
                            "spec": {
                              "spec": [
                                {
                                  "name": "token",
                                  "type": "text",
                                  "label": "Token ID",
                                  "required": true
                                },
                                {
                                  "name": "probability",
                                  "type": "number",
                                  "label": "Probability",
                                  "required": true,
                                  "validate": {
                                    "max": 100,
                                    "min": -100
                                  }
                                }
                              ],
                              "type": "collection",
                              "label": "Token Probability",
                              "name": "value"
                            }
                          },
                          {
                            "name": "seed",
                            "type": "integer",
                            "label": "Seed"
                          },
                          {
                            "name": "stop",
                            "type": "array",
                            "label": "Stop Sequences",
                            "validate": {
                              "maxItems": 4
                            },
                            "spec": {
                              "type": "text",
                              "label": "Stop Sequence",
                              "name": "value"
                            }
                          },
                          {
                            "name": "additionalParameters",
                            "type": "array",
                            "label": "Other Input Parameters",
                            "spec": {
                              "spec": [
                                {
                                  "name": "key",
                                  "type": "text",
                                  "label": "Parameter Name",
                                  "required": true
                                },
                                {
                                  "name": "type",
                                  "type": "select",
                                  "label": "Input Type",
                                  "options": [
                                    {
                                      "label": "Text",
                                      "value": "text",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "text",
                                          "label": "Parameter Value"
                                        }
                                      ],
                                      "default": true
                                    },
                                    {
                                      "label": "Number",
                                      "value": "number",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "number",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Boolean",
                                      "value": "boolean",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "boolean",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Date",
                                      "value": "date",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "date",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Any",
                                      "value": "any",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "any",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "type": "collection",
                              "label": "Input Parameter",
                              "name": "value"
                            }
                          },
                          {
                            "name": "model",
                            "type": "select",
                            "label": "Model",
                            "required": true
                          },
                          {
                            "name": "max_tokens",
                            "type": "uinteger",
                            "label": "Max Completion Tokens"
                          },
                          {
                            "name": "messages",
                            "type": "array",
                            "label": "Messages",
                            "required": true,
                            "spec": {
                              "label": "Message",
                              "type": "collection",
                              "spec": [
                                {
                                  "name": "role",
                                  "type": "select",
                                  "label": "Role",
                                  "required": true,
                                  "options": {
                                    "store": [
                                      {
                                        "label": "Developer / System",
                                        "value": "system",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          }
                                        ]
                                      },
                                      {
                                        "label": "User",
                                        "value": "user",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          },
                                          {
                                            "name": "imageInputType",
                                            "type": "select",
                                            "label": "Image Input Type",
                                            "mappable": false,
                                            "options": [
                                              {
                                                "value": "url",
                                                "label": "URL",
                                                "nested": [
                                                  {
                                                    "name": "imageUrl",
                                                    "label": "Image URL",
                                                    "type": "url",
                                                    "help": "Make sure to use a publicly accessible URL.\nYou can test if your image is publicly accessible by opening the link in an incognito tab."
                                                  }
                                                ]
                                              },
                                              {
                                                "value": "file",
                                                "label": "Image File",
                                                "nested": [
                                                  {
                                                    "name": "imageFile",
                                                    "label": "Image",
                                                    "type": "collection",
                                                    "spec": [
                                                      {
                                                        "name": "imageFilename",
                                                        "type": "filename",
                                                        "label": "Image Filename",
                                                        "semantic": "file:name",
                                                        "extension": [
                                                          "jpg",
                                                          "jpeg",
                                                          "png",
                                                          "webp",
                                                          "gif"
                                                        ],
                                                        "help": "Accepted extensions: `.jpg`, `.jpeg`, `.png`, `.webp` and `.gif`."
                                                      },
                                                      {
                                                        "name": "imageData",
                                                        "type": "buffer",
                                                        "label": "Image Data",
                                                        "semantic": "file:data"
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "name": "imageDetail",
                                            "type": "select",
                                            "label": "Image Detail",
                                            "advanced": true,
                                            "options": [
                                              {
                                                "value": "auto",
                                                "default": true,
                                                "label": "Auto"
                                              },
                                              {
                                                "value": "high",
                                                "label": "High"
                                              },
                                              {
                                                "value": "low",
                                                "label": "Low"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "label": "Assistant",
                                        "value": "assistant",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              ],
                              "name": "value"
                            }
                          },
                          {
                            "name": "response_format",
                            "type": "select",
                            "label": "Response Format",
                            "validate": {
                              "enum": [
                                "text",
                                "json_object"
                              ]
                            }
                          }
                        ],
                        "interface": [
                          {
                            "name": "result",
                            "type": "any",
                            "label": "Result"
                          },
                          {
                            "name": "id",
                            "type": "text",
                            "label": "ID"
                          },
                          {
                            "name": "object",
                            "type": "text",
                            "label": "Object"
                          },
                          {
                            "name": "created",
                            "type": "date",
                            "label": "Created"
                          },
                          {
                            "name": "model",
                            "type": "text",
                            "label": "Model"
                          },
                          {
                            "name": "choices",
                            "spec": {
                              "spec": [
                                {
                                  "name": "text",
                                  "type": "text",
                                  "label": "Text"
                                },
                                {
                                  "name": "index",
                                  "type": "number",
                                  "label": "Index"
                                },
                                {
                                  "name": "logprobs",
                                  "type": "text",
                                  "label": "Log Probs"
                                },
                                {
                                  "name": "finish_reason",
                                  "type": "text",
                                  "label": "Finish Reason"
                                },
                                {
                                  "name": "message",
                                  "spec": [
                                    {
                                      "name": "role",
                                      "type": "text",
                                      "label": "Role"
                                    },
                                    {
                                      "name": "content",
                                      "type": "text",
                                      "label": "Content"
                                    },
                                    {
                                      "name": "refusal",
                                      "type": "text",
                                      "label": "Refusal"
                                    }
                                  ],
                                  "type": "collection",
                                  "label": "Message"
                                }
                              ],
                              "type": "collection"
                            },
                            "type": "array",
                            "label": "Choices"
                          },
                          {
                            "name": "usage",
                            "spec": [
                              {
                                "name": "prompt_tokens",
                                "type": "number",
                                "label": "Prompt Tokens"
                              },
                              {
                                "name": "completion_tokens",
                                "type": "text",
                                "label": "Completion Tokens"
                              },
                              {
                                "name": "total_tokens",
                                "type": "number",
                                "label": "Total Tokens"
                              },
                              {
                                "name": "prompt_tokens_details",
                                "spec": [
                                  {
                                    "name": "cached_tokens",
                                    "type": "uinteger",
                                    "label": "Cached Tokens"
                                  },
                                  {
                                    "name": "text_tokens",
                                    "type": "uinteger",
                                    "label": "Text Tokens"
                                  },
                                  {
                                    "name": "image_tokens",
                                    "type": "uinteger",
                                    "label": "Image Tokens"
                                  },
                                  {
                                    "name": "audio_tokens",
                                    "type": "uinteger",
                                    "label": "Audio Tokens"
                                  }
                                ],
                                "type": "collection",
                                "label": "Prompt Tokens Details"
                              },
                              {
                                "name": "completion_tokens_details",
                                "spec": [
                                  {
                                    "name": "reasoning_tokens",
                                    "type": "uinteger",
                                    "label": "Reasoning Tokens"
                                  },
                                  {
                                    "name": "text_tokens",
                                    "type": "uinteger",
                                    "label": "Text Tokens"
                                  },
                                  {
                                    "name": "audio_tokens",
                                    "type": "uinteger",
                                    "label": "Audio Tokens"
                                  },
                                  {
                                    "name": "accepted_prediction_tokens",
                                    "type": "uinteger",
                                    "label": "Accepted Prediction Tokens"
                                  },
                                  {
                                    "name": "rejected_prediction_tokens",
                                    "type": "uinteger",
                                    "label": "Rejected Prediction Tokens"
                                  }
                                ],
                                "type": "collection",
                                "label": "Completion Tokens Details"
                              }
                            ],
                            "type": "collection",
                            "label": "Usage"
                          },
                          {
                            "name": "system_fingerprint",
                            "type": "text",
                            "label": "System Fingerprint"
                          }
                        ]
                      }
                    },
                    {
                      "id": 31,
                      "module": "email:ActionSendEmail",
                      "version": 7,
                      "parameters": {
                        "account": 1579435,
                        "saveAfterSent": false
                      },
                      "mapper": {
                        "to": [
                          "{{2.from.address}}"
                        ],
                        "subject": "{{30.result}}",
                        "contentType": "html",
                        "attachments": [],
                        "cc": [],
                        "bcc": [],
                        "from": "",
                        "sender": "",
                        "replyTo": "",
                        "inReplyTo": "",
                        "references": [],
                        "priority": "normal",
                        "headers": [],
                        "html": "{{29.result}}"
                      },
                      "metadata": {
                        "designer": {
                          "x": 3000,
                          "y": 1132
                        },
                        "restore": {
                          "parameters": {
                            "account": {
                              "label": "My Google Restricted connection (Nina@automationcrmexpert.com)",
                              "data": {
                                "scoped": "true",
                                "connection": "google-restricted"
                              }
                            },
                            "saveAfterSent": {
                              "label": "No"
                            }
                          },
                          "expect": {
                            "to": {
                              "mode": "chose",
                              "items": [
                                null
                              ]
                            },
                            "contentType": {
                              "label": "HTML"
                            },
                            "attachments": {
                              "mode": "chose"
                            },
                            "cc": {
                              "mode": "chose"
                            },
                            "bcc": {
                              "mode": "chose"
                            },
                            "references": {
                              "mode": "chose"
                            },
                            "priority": {
                              "label": "Normal"
                            }
                          }
                        },
                        "parameters": [
                          {
                            "name": "account",
                            "type": "account:smtp,google-restricted,microsoft-smtp-imap",
                            "label": "Connection",
                            "required": true
                          },
                          {
                            "name": "saveAfterSent",
                            "type": "select",
                            "label": "Save message after sending",
                            "required": true,
                            "validate": {
                              "enum": [
                                true,
                                false
                              ]
                            }
                          },
                          {
                            "type": "hidden"
                          }
                        ],
                        "expect": [
                          {
                            "name": "to",
                            "type": "array",
                            "label": "To",
                            "required": true,
                            "spec": {
                              "name": "value",
                              "type": "email",
                              "label": "Email address",
                              "required": true
                            }
                          },
                          {
                            "name": "subject",
                            "type": "text",
                            "label": "Subject"
                          },
                          {
                            "name": "contentType",
                            "type": "select",
                            "label": "Content Type",
                            "required": true,
                            "validate": {
                              "enum": [
                                "html",
                                "text"
                              ]
                            }
                          },
                          {
                            "name": "attachments",
                            "type": "array",
                            "label": "Attachments",
                            "spec": [
                              {
                                "name": "fileName",
                                "label": "File name",
                                "type": "filename",
                                "required": true,
                                "semantic": "file:name"
                              },
                              {
                                "name": "data",
                                "label": "Data",
                                "type": "buffer",
                                "required": true,
                                "semantic": "file:data"
                              },
                              {
                                "name": "cid",
                                "label": "Content-ID",
                                "type": "text"
                              }
                            ]
                          },
                          {
                            "name": "cc",
                            "type": "array",
                            "label": "Copy recipient",
                            "spec": {
                              "name": "value",
                              "type": "email",
                              "label": "Email address"
                            }
                          },
                          {
                            "name": "bcc",
                            "type": "array",
                            "label": "Blind copy recipient",
                            "spec": {
                              "name": "value",
                              "type": "email",
                              "label": "Email address"
                            }
                          },
                          {
                            "name": "from",
                            "type": "text",
                            "label": "From"
                          },
                          {
                            "name": "sender",
                            "type": "text",
                            "label": "Sender"
                          },
                          {
                            "name": "replyTo",
                            "type": "text",
                            "label": "Reply-To"
                          },
                          {
                            "name": "inReplyTo",
                            "type": "text",
                            "label": "In-Reply-To"
                          },
                          {
                            "name": "references",
                            "type": "array",
                            "label": "References",
                            "spec": {
                              "type": "text",
                              "label": "Reference",
                              "required": true,
                              "name": "value"
                            }
                          },
                          {
                            "name": "priority",
                            "type": "select",
                            "label": "Priority",
                            "validate": {
                              "enum": [
                                "high",
                                "normal",
                                "low"
                              ]
                            }
                          },
                          {
                            "name": "headers",
                            "type": "array",
                            "label": "Headers",
                            "spec": [
                              {
                                "name": "key",
                                "label": "Key",
                                "type": "text",
                                "required": true
                              },
                              {
                                "name": "value",
                                "label": "Value",
                                "type": "text",
                                "required": true
                              }
                            ]
                          },
                          {
                            "name": "html",
                            "type": "text",
                            "label": "Content"
                          }
                        ]
                      }
                    }
                  ]
                },
                {
                  "flow": [
                    {
                      "id": 32,
                      "module": "openai-gpt-3:CreateCompletion",
                      "version": 1,
                      "parameters": {
                        "__IMTCONN__": 1111111
                      },
                      "filter": {
                        "name": "",
                        "conditions": [
                          [
                            {
                              "a": "{{23.result}}",
                              "b": "2",
                              "o": "number:equal"
                            }
                          ]
                        ]
                      },
                      "mapper": {
                        "select": "chat",
                        "temperature": "1",
                        "top_p": "1",
                        "n_completions": "1",
                        "model": "gpt-4o-mini",
                        "max_tokens": "2048",
                        "messages": [
                          {
                            "role": "system",
                            "content": "**Role**\nYou are an expert customer support rep for {Company name}, you are dealing with low prioirty emails that just need basic responses and not much data.\n\n**Context**\nThese may be job inquiries, compliments reviews or {Add anything else specific to your business}. You just have to use your best judgement to reply.\n\n{Company name} is a business that does {XYZ}\n\n**Task**\nKindly reply to the users or customers email\n\n - For context, these emails could be left unreplied, we just want to show consistency in our customer engagement"
                          },
                          {
                            "role": "system",
                            "content": "You output should be neatly formatted and framed in HTML.\n\nEnsure it is from {Company Name} customer support team.\n\nDo not include \"html or anything like that n the output."
                          },
                          {
                            "role": "user",
                            "content": "Here is the users email: {{2.text}}\nTheir details:\n{{2.from.name}}{{2.from.address}}\n\nRespond based on your instructions",
                            "imageDetail": "auto"
                          }
                        ],
                        "response_format": "text"
                      },
                      "metadata": {
                        "designer": {
                          "x": 2094,
                          "y": 1434
                        },
                        "restore": {
                          "parameters": {
                            "__IMTCONN__": {
                              "label": "Nina OpenAI",
                              "data": {
                                "scoped": "true",
                                "connection": "openai-gpt-3"
                              }
                            }
                          },
                          "expect": {
                            "select": {
                              "label": "Create a Chat Completion (GPT and o1 models)"
                            },
                            "logit_bias": {
                              "mode": "chose"
                            },
                            "stop": {
                              "mode": "chose"
                            },
                            "additionalParameters": {
                              "mode": "chose"
                            },
                            "model": {
                              "mode": "chose",
                              "label": "gpt-4o-mini (system)"
                            },
                            "messages": {
                              "mode": "chose",
                              "items": [
                                {
                                  "role": {
                                    "mode": "chose",
                                    "label": "Developer / System"
                                  }
                                },
                                {
                                  "role": {
                                    "mode": "chose",
                                    "label": "Developer / System"
                                  }
                                },
                                {
                                  "role": {
                                    "mode": "chose",
                                    "label": "User"
                                  },
                                  "imageInputType": {
                                    "mode": "chose",
                                    "label": "Empty"
                                  },
                                  "imageDetail": {
                                    "mode": "chose",
                                    "label": "Auto"
                                  }
                                }
                              ]
                            },
                            "response_format": {
                              "mode": "chose",
                              "label": "Text"
                            }
                          }
                        },
                        "parameters": [
                          {
                            "name": "__IMTCONN__",
                            "type": "account:openai-gpt-3",
                            "label": "Connection",
                            "required": true
                          }
                        ],
                        "expect": [
                          {
                            "name": "select",
                            "type": "select",
                            "label": "Select Method",
                            "required": true,
                            "validate": {
                              "enum": [
                                "chat",
                                "prompt"
                              ]
                            }
                          },
                          {
                            "name": "temperature",
                            "type": "number",
                            "label": "Temperature",
                            "validate": {
                              "max": 2,
                              "min": 0
                            }
                          },
                          {
                            "name": "top_p",
                            "type": "number",
                            "label": "Top P",
                            "validate": {
                              "max": 1,
                              "min": 0
                            }
                          },
                          {
                            "name": "n_completions",
                            "type": "number",
                            "label": "Number"
                          },
                          {
                            "name": "frequency_penalty",
                            "type": "number",
                            "label": "Frequency Penalty",
                            "validate": {
                              "max": 2,
                              "min": -2
                            }
                          },
                          {
                            "name": "presence_penalty",
                            "type": "number",
                            "label": "Presence Penalty",
                            "validate": {
                              "max": 2,
                              "min": -2
                            }
                          },
                          {
                            "name": "logit_bias",
                            "type": "array",
                            "label": "Token Probability",
                            "spec": {
                              "spec": [
                                {
                                  "name": "token",
                                  "type": "text",
                                  "label": "Token ID",
                                  "required": true
                                },
                                {
                                  "name": "probability",
                                  "type": "number",
                                  "label": "Probability",
                                  "required": true,
                                  "validate": {
                                    "max": 100,
                                    "min": -100
                                  }
                                }
                              ],
                              "type": "collection",
                              "label": "Token Probability",
                              "name": "value"
                            }
                          },
                          {
                            "name": "seed",
                            "type": "integer",
                            "label": "Seed"
                          },
                          {
                            "name": "stop",
                            "type": "array",
                            "label": "Stop Sequences",
                            "validate": {
                              "maxItems": 4
                            },
                            "spec": {
                              "type": "text",
                              "label": "Stop Sequence",
                              "name": "value"
                            }
                          },
                          {
                            "name": "additionalParameters",
                            "type": "array",
                            "label": "Other Input Parameters",
                            "spec": {
                              "spec": [
                                {
                                  "name": "key",
                                  "type": "text",
                                  "label": "Parameter Name",
                                  "required": true
                                },
                                {
                                  "name": "type",
                                  "type": "select",
                                  "label": "Input Type",
                                  "options": [
                                    {
                                      "label": "Text",
                                      "value": "text",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "text",
                                          "label": "Parameter Value"
                                        }
                                      ],
                                      "default": true
                                    },
                                    {
                                      "label": "Number",
                                      "value": "number",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "number",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Boolean",
                                      "value": "boolean",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "boolean",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Date",
                                      "value": "date",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "date",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Any",
                                      "value": "any",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "any",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "type": "collection",
                              "label": "Input Parameter",
                              "name": "value"
                            }
                          },
                          {
                            "name": "model",
                            "type": "select",
                            "label": "Model",
                            "required": true
                          },
                          {
                            "name": "max_tokens",
                            "type": "uinteger",
                            "label": "Max Completion Tokens"
                          },
                          {
                            "name": "messages",
                            "type": "array",
                            "label": "Messages",
                            "required": true,
                            "spec": {
                              "label": "Message",
                              "type": "collection",
                              "spec": [
                                {
                                  "name": "role",
                                  "type": "select",
                                  "label": "Role",
                                  "required": true,
                                  "options": {
                                    "store": [
                                      {
                                        "label": "Developer / System",
                                        "value": "system",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          }
                                        ]
                                      },
                                      {
                                        "label": "User",
                                        "value": "user",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          },
                                          {
                                            "name": "imageInputType",
                                            "type": "select",
                                            "label": "Image Input Type",
                                            "mappable": false,
                                            "options": [
                                              {
                                                "value": "url",
                                                "label": "URL",
                                                "nested": [
                                                  {
                                                    "name": "imageUrl",
                                                    "label": "Image URL",
                                                    "type": "url",
                                                    "help": "Make sure to use a publicly accessible URL.\nYou can test if your image is publicly accessible by opening the link in an incognito tab."
                                                  }
                                                ]
                                              },
                                              {
                                                "value": "file",
                                                "label": "Image File",
                                                "nested": [
                                                  {
                                                    "name": "imageFile",
                                                    "label": "Image",
                                                    "type": "collection",
                                                    "spec": [
                                                      {
                                                        "name": "imageFilename",
                                                        "type": "filename",
                                                        "label": "Image Filename",
                                                        "semantic": "file:name",
                                                        "extension": [
                                                          "jpg",
                                                          "jpeg",
                                                          "png",
                                                          "webp",
                                                          "gif"
                                                        ],
                                                        "help": "Accepted extensions: `.jpg`, `.jpeg`, `.png`, `.webp` and `.gif`."
                                                      },
                                                      {
                                                        "name": "imageData",
                                                        "type": "buffer",
                                                        "label": "Image Data",
                                                        "semantic": "file:data"
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "name": "imageDetail",
                                            "type": "select",
                                            "label": "Image Detail",
                                            "advanced": true,
                                            "options": [
                                              {
                                                "value": "auto",
                                                "default": true,
                                                "label": "Auto"
                                              },
                                              {
                                                "value": "high",
                                                "label": "High"
                                              },
                                              {
                                                "value": "low",
                                                "label": "Low"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "label": "Assistant",
                                        "value": "assistant",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              ],
                              "name": "value"
                            }
                          },
                          {
                            "name": "response_format",
                            "type": "select",
                            "label": "Response Format",
                            "validate": {
                              "enum": [
                                "text",
                                "json_object"
                              ]
                            }
                          }
                        ],
                        "interface": [
                          {
                            "name": "result",
                            "type": "any",
                            "label": "Result"
                          },
                          {
                            "name": "id",
                            "type": "text",
                            "label": "ID"
                          },
                          {
                            "name": "object",
                            "type": "text",
                            "label": "Object"
                          },
                          {
                            "name": "created",
                            "type": "date",
                            "label": "Created"
                          },
                          {
                            "name": "model",
                            "type": "text",
                            "label": "Model"
                          },
                          {
                            "name": "choices",
                            "spec": {
                              "spec": [
                                {
                                  "name": "text",
                                  "type": "text",
                                  "label": "Text"
                                },
                                {
                                  "name": "index",
                                  "type": "number",
                                  "label": "Index"
                                },
                                {
                                  "name": "logprobs",
                                  "type": "text",
                                  "label": "Log Probs"
                                },
                                {
                                  "name": "finish_reason",
                                  "type": "text",
                                  "label": "Finish Reason"
                                },
                                {
                                  "name": "message",
                                  "spec": [
                                    {
                                      "name": "role",
                                      "type": "text",
                                      "label": "Role"
                                    },
                                    {
                                      "name": "content",
                                      "type": "text",
                                      "label": "Content"
                                    },
                                    {
                                      "name": "refusal",
                                      "type": "text",
                                      "label": "Refusal"
                                    }
                                  ],
                                  "type": "collection",
                                  "label": "Message"
                                }
                              ],
                              "type": "collection"
                            },
                            "type": "array",
                            "label": "Choices"
                          },
                          {
                            "name": "usage",
                            "spec": [
                              {
                                "name": "prompt_tokens",
                                "type": "number",
                                "label": "Prompt Tokens"
                              },
                              {
                                "name": "completion_tokens",
                                "type": "text",
                                "label": "Completion Tokens"
                              },
                              {
                                "name": "total_tokens",
                                "type": "number",
                                "label": "Total Tokens"
                              },
                              {
                                "name": "prompt_tokens_details",
                                "spec": [
                                  {
                                    "name": "cached_tokens",
                                    "type": "uinteger",
                                    "label": "Cached Tokens"
                                  },
                                  {
                                    "name": "text_tokens",
                                    "type": "uinteger",
                                    "label": "Text Tokens"
                                  },
                                  {
                                    "name": "image_tokens",
                                    "type": "uinteger",
                                    "label": "Image Tokens"
                                  },
                                  {
                                    "name": "audio_tokens",
                                    "type": "uinteger",
                                    "label": "Audio Tokens"
                                  }
                                ],
                                "type": "collection",
                                "label": "Prompt Tokens Details"
                              },
                              {
                                "name": "completion_tokens_details",
                                "spec": [
                                  {
                                    "name": "reasoning_tokens",
                                    "type": "uinteger",
                                    "label": "Reasoning Tokens"
                                  },
                                  {
                                    "name": "text_tokens",
                                    "type": "uinteger",
                                    "label": "Text Tokens"
                                  },
                                  {
                                    "name": "audio_tokens",
                                    "type": "uinteger",
                                    "label": "Audio Tokens"
                                  },
                                  {
                                    "name": "accepted_prediction_tokens",
                                    "type": "uinteger",
                                    "label": "Accepted Prediction Tokens"
                                  },
                                  {
                                    "name": "rejected_prediction_tokens",
                                    "type": "uinteger",
                                    "label": "Rejected Prediction Tokens"
                                  }
                                ],
                                "type": "collection",
                                "label": "Completion Tokens Details"
                              }
                            ],
                            "type": "collection",
                            "label": "Usage"
                          },
                          {
                            "name": "system_fingerprint",
                            "type": "text",
                            "label": "System Fingerprint"
                          }
                        ]
                      }
                    },
                    {
                      "id": 33,
                      "module": "openai-gpt-3:CreateCompletion",
                      "version": 1,
                      "parameters": {
                        "__IMTCONN__": 1111111
                      },
                      "mapper": {
                        "select": "chat",
                        "temperature": "1",
                        "top_p": "1",
                        "n_completions": "1",
                        "model": "gpt-4o",
                        "max_tokens": "2048",
                        "messages": [
                          {
                            "role": "user",
                            "content": "Based off this email write a short and personalised email subject: {{32.result}}",
                            "imageDetail": "auto"
                          }
                        ],
                        "response_format": "text"
                      },
                      "metadata": {
                        "designer": {
                          "x": 2407,
                          "y": 1433
                        },
                        "restore": {
                          "parameters": {
                            "__IMTCONN__": {
                              "label": "Nina OpenAI",
                              "data": {
                                "scoped": "true",
                                "connection": "openai-gpt-3"
                              }
                            }
                          },
                          "expect": {
                            "select": {
                              "label": "Create a Chat Completion (GPT and o1 models)"
                            },
                            "logit_bias": {
                              "mode": "chose"
                            },
                            "stop": {
                              "mode": "chose"
                            },
                            "additionalParameters": {
                              "mode": "chose"
                            },
                            "model": {
                              "mode": "chose",
                              "label": "gpt-4o (system)"
                            },
                            "messages": {
                              "mode": "chose",
                              "items": [
                                {
                                  "role": {
                                    "mode": "chose",
                                    "label": "User"
                                  },
                                  "imageInputType": {
                                    "mode": "chose",
                                    "label": "Empty"
                                  },
                                  "imageDetail": {
                                    "mode": "chose",
                                    "label": "Auto"
                                  }
                                }
                              ]
                            },
                            "response_format": {
                              "mode": "chose",
                              "label": "Text"
                            }
                          }
                        },
                        "parameters": [
                          {
                            "name": "__IMTCONN__",
                            "type": "account:openai-gpt-3",
                            "label": "Connection",
                            "required": true
                          }
                        ],
                        "expect": [
                          {
                            "name": "select",
                            "type": "select",
                            "label": "Select Method",
                            "required": true,
                            "validate": {
                              "enum": [
                                "chat",
                                "prompt"
                              ]
                            }
                          },
                          {
                            "name": "temperature",
                            "type": "number",
                            "label": "Temperature",
                            "validate": {
                              "max": 2,
                              "min": 0
                            }
                          },
                          {
                            "name": "top_p",
                            "type": "number",
                            "label": "Top P",
                            "validate": {
                              "max": 1,
                              "min": 0
                            }
                          },
                          {
                            "name": "n_completions",
                            "type": "number",
                            "label": "Number"
                          },
                          {
                            "name": "frequency_penalty",
                            "type": "number",
                            "label": "Frequency Penalty",
                            "validate": {
                              "max": 2,
                              "min": -2
                            }
                          },
                          {
                            "name": "presence_penalty",
                            "type": "number",
                            "label": "Presence Penalty",
                            "validate": {
                              "max": 2,
                              "min": -2
                            }
                          },
                          {
                            "name": "logit_bias",
                            "type": "array",
                            "label": "Token Probability",
                            "spec": {
                              "spec": [
                                {
                                  "name": "token",
                                  "type": "text",
                                  "label": "Token ID",
                                  "required": true
                                },
                                {
                                  "name": "probability",
                                  "type": "number",
                                  "label": "Probability",
                                  "required": true,
                                  "validate": {
                                    "max": 100,
                                    "min": -100
                                  }
                                }
                              ],
                              "type": "collection",
                              "label": "Token Probability",
                              "name": "value"
                            }
                          },
                          {
                            "name": "seed",
                            "type": "integer",
                            "label": "Seed"
                          },
                          {
                            "name": "stop",
                            "type": "array",
                            "label": "Stop Sequences",
                            "validate": {
                              "maxItems": 4
                            },
                            "spec": {
                              "type": "text",
                              "label": "Stop Sequence",
                              "name": "value"
                            }
                          },
                          {
                            "name": "additionalParameters",
                            "type": "array",
                            "label": "Other Input Parameters",
                            "spec": {
                              "spec": [
                                {
                                  "name": "key",
                                  "type": "text",
                                  "label": "Parameter Name",
                                  "required": true
                                },
                                {
                                  "name": "type",
                                  "type": "select",
                                  "label": "Input Type",
                                  "options": [
                                    {
                                      "label": "Text",
                                      "value": "text",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "text",
                                          "label": "Parameter Value"
                                        }
                                      ],
                                      "default": true
                                    },
                                    {
                                      "label": "Number",
                                      "value": "number",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "number",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Boolean",
                                      "value": "boolean",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "boolean",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Date",
                                      "value": "date",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "date",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    },
                                    {
                                      "label": "Any",
                                      "value": "any",
                                      "nested": [
                                        {
                                          "name": "value",
                                          "type": "any",
                                          "label": "Parameter Value"
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "type": "collection",
                              "label": "Input Parameter",
                              "name": "value"
                            }
                          },
                          {
                            "name": "model",
                            "type": "select",
                            "label": "Model",
                            "required": true
                          },
                          {
                            "name": "max_tokens",
                            "type": "uinteger",
                            "label": "Max Completion Tokens"
                          },
                          {
                            "name": "messages",
                            "type": "array",
                            "label": "Messages",
                            "required": true,
                            "spec": {
                              "label": "Message",
                              "type": "collection",
                              "spec": [
                                {
                                  "name": "role",
                                  "type": "select",
                                  "label": "Role",
                                  "required": true,
                                  "options": {
                                    "store": [
                                      {
                                        "label": "Developer / System",
                                        "value": "system",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          }
                                        ]
                                      },
                                      {
                                        "label": "User",
                                        "value": "user",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          },
                                          {
                                            "name": "imageInputType",
                                            "type": "select",
                                            "label": "Image Input Type",
                                            "mappable": false,
                                            "options": [
                                              {
                                                "value": "url",
                                                "label": "URL",
                                                "nested": [
                                                  {
                                                    "name": "imageUrl",
                                                    "label": "Image URL",
                                                    "type": "url",
                                                    "help": "Make sure to use a publicly accessible URL.\nYou can test if your image is publicly accessible by opening the link in an incognito tab."
                                                  }
                                                ]
                                              },
                                              {
                                                "value": "file",
                                                "label": "Image File",
                                                "nested": [
                                                  {
                                                    "name": "imageFile",
                                                    "label": "Image",
                                                    "type": "collection",
                                                    "spec": [
                                                      {
                                                        "name": "imageFilename",
                                                        "type": "filename",
                                                        "label": "Image Filename",
                                                        "semantic": "file:name",
                                                        "extension": [
                                                          "jpg",
                                                          "jpeg",
                                                          "png",
                                                          "webp",
                                                          "gif"
                                                        ],
                                                        "help": "Accepted extensions: `.jpg`, `.jpeg`, `.png`, `.webp` and `.gif`."
                                                      },
                                                      {
                                                        "name": "imageData",
                                                        "type": "buffer",
                                                        "label": "Image Data",
                                                        "semantic": "file:data"
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "name": "imageDetail",
                                            "type": "select",
                                            "label": "Image Detail",
                                            "advanced": true,
                                            "options": [
                                              {
                                                "value": "auto",
                                                "default": true,
                                                "label": "Auto"
                                              },
                                              {
                                                "value": "high",
                                                "label": "High"
                                              },
                                              {
                                                "value": "low",
                                                "label": "Low"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "label": "Assistant",
                                        "value": "assistant",
                                        "nested": [
                                          {
                                            "help": "Text content of the message on behalf of the selected __Role__.",
                                            "name": "content",
                                            "type": "text",
                                            "label": "Text Content"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              ],
                              "name": "value"
                            }
                          },
                          {
                            "name": "response_format",
                            "type": "select",
                            "label": "Response Format",
                            "validate": {
                              "enum": [
                                "text",
                                "json_object"
                              ]
                            }
                          }
                        ],
                        "interface": [
                          {
                            "name": "result",
                            "type": "any",
                            "label": "Result"
                          },
                          {
                            "name": "id",
                            "type": "text",
                            "label": "ID"
                          },
                          {
                            "name": "object",
                            "type": "text",
                            "label": "Object"
                          },
                          {
                            "name": "created",
                            "type": "date",
                            "label": "Created"
                          },
                          {
                            "name": "model",
                            "type": "text",
                            "label": "Model"
                          },
                          {
                            "name": "choices",
                            "spec": {
                              "spec": [
                                {
                                  "name": "text",
                                  "type": "text",
                                  "label": "Text"
                                },
                                {
                                  "name": "index",
                                  "type": "number",
                                  "label": "Index"
                                },
                                {
                                  "name": "logprobs",
                                  "type": "text",
                                  "label": "Log Probs"
                                },
                                {
                                  "name": "finish_reason",
                                  "type": "text",
                                  "label": "Finish Reason"
                                },
                                {
                                  "name": "message",
                                  "spec": [
                                    {
                                      "name": "role",
                                      "type": "text",
                                      "label": "Role"
                                    },
                                    {
                                      "name": "content",
                                      "type": "text",
                                      "label": "Content"
                                    },
                                    {
                                      "name": "refusal",
                                      "type": "text",
                                      "label": "Refusal"
                                    }
                                  ],
                                  "type": "collection",
                                  "label": "Message"
                                }
                              ],
                              "type": "collection"
                            },
                            "type": "array",
                            "label": "Choices"
                          },
                          {
                            "name": "usage",
                            "spec": [
                              {
                                "name": "prompt_tokens",
                                "type": "number",
                                "label": "Prompt Tokens"
                              },
                              {
                                "name": "completion_tokens",
                                "type": "text",
                                "label": "Completion Tokens"
                              },
                              {
                                "name": "total_tokens",
                                "type": "number",
                                "label": "Total Tokens"
                              },
                              {
                                "name": "prompt_tokens_details",
                                "spec": [
                                  {
                                    "name": "cached_tokens",
                                    "type": "uinteger",
                                    "label": "Cached Tokens"
                                  },
                                  {
                                    "name": "text_tokens",
                                    "type": "uinteger",
                                    "label": "Text Tokens"
                                  },
                                  {
                                    "name": "image_tokens",
                                    "type": "uinteger",
                                    "label": "Image Tokens"
                                  },
                                  {
                                    "name": "audio_tokens",
                                    "type": "uinteger",
                                    "label": "Audio Tokens"
                                  }
                                ],
                                "type": "collection",
                                "label": "Prompt Tokens Details"
                              },
                              {
                                "name": "completion_tokens_details",
                                "spec": [
                                  {
                                    "name": "reasoning_tokens",
                                    "type": "uinteger",
                                    "label": "Reasoning Tokens"
                                  },
                                  {
                                    "name": "text_tokens",
                                    "type": "uinteger",
                                    "label": "Text Tokens"
                                  },
                                  {
                                    "name": "audio_tokens",
                                    "type": "uinteger",
                                    "label": "Audio Tokens"
                                  },
                                  {
                                    "name": "accepted_prediction_tokens",
                                    "type": "uinteger",
                                    "label": "Accepted Prediction Tokens"
                                  },
                                  {
                                    "name": "rejected_prediction_tokens",
                                    "type": "uinteger",
                                    "label": "Rejected Prediction Tokens"
                                  }
                                ],
                                "type": "collection",
                                "label": "Completion Tokens Details"
                              }
                            ],
                            "type": "collection",
                            "label": "Usage"
                          },
                          {
                            "name": "system_fingerprint",
                            "type": "text",
                            "label": "System Fingerprint"
                          }
                        ]
                      }
                    },
                    {
                      "id": 34,
                      "module": "email:ActionSendEmail",
                      "version": 7,
                      "parameters": {
                        "account": 1579435,
                        "saveAfterSent": false
                      },
                      "mapper": {
                        "to": [
                          "{{2.from.address}}"
                        ],
                        "subject": "{{33.result}}",
                        "contentType": "html",
                        "attachments": [],
                        "cc": [],
                        "bcc": [],
                        "from": "",
                        "sender": "",
                        "replyTo": "",
                        "inReplyTo": "",
                        "references": [],
                        "priority": "normal",
                        "headers": [],
                        "html": "{{32.result}}"
                      },
                      "metadata": {
                        "designer": {
                          "x": 2699,
                          "y": 1441
                        },
                        "restore": {
                          "parameters": {
                            "account": {
                              "label": "My Google Restricted connection (Nina@automationcrmexpert.com)",
                              "data": {
                                "scoped": "true",
                                "connection": "google-restricted"
                              }
                            },
                            "saveAfterSent": {
                              "label": "No"
                            }
                          },
                          "expect": {
                            "to": {
                              "mode": "chose",
                              "items": [
                                null
                              ]
                            },
                            "contentType": {
                              "label": "HTML"
                            },
                            "attachments": {
                              "mode": "chose"
                            },
                            "cc": {
                              "mode": "chose"
                            },
                            "bcc": {
                              "mode": "chose"
                            },
                            "references": {
                              "mode": "chose"
                            },
                            "priority": {
                              "label": "Normal"
                            }
                          }
                        },
                        "parameters": [
                          {
                            "name": "account",
                            "type": "account:smtp,google-restricted,microsoft-smtp-imap",
                            "label": "Connection",
                            "required": true
                          },
                          {
                            "name": "saveAfterSent",
                            "type": "select",
                            "label": "Save message after sending",
                            "required": true,
                            "validate": {
                              "enum": [
                                true,
                                false
                              ]
                            }
                          },
                          {
                            "type": "hidden"
                          }
                        ],
                        "expect": [
                          {
                            "name": "to",
                            "type": "array",
                            "label": "To",
                            "required": true,
                            "spec": {
                              "name": "value",
                              "type": "email",
                              "label": "Email address",
                              "required": true
                            }
                          },
                          {
                            "name": "subject",
                            "type": "text",
                            "label": "Subject"
                          },
                          {
                            "name": "contentType",
                            "type": "select",
                            "label": "Content Type",
                            "required": true,
                            "validate": {
                              "enum": [
                                "html",
                                "text"
                              ]
                            }
                          },
                          {
                            "name": "attachments",
                            "type": "array",
                            "label": "Attachments",
                            "spec": [
                              {
                                "name": "fileName",
                                "label": "File name",
                                "type": "filename",
                                "required": true,
                                "semantic": "file:name"
                              },
                              {
                                "name": "data",
                                "label": "Data",
                                "type": "buffer",
                                "required": true,
                                "semantic": "file:data"
                              },
                              {
                                "name": "cid",
                                "label": "Content-ID",
                                "type": "text"
                              }
                            ]
                          },
                          {
                            "name": "cc",
                            "type": "array",
                            "label": "Copy recipient",
                            "spec": {
                              "name": "value",
                              "type": "email",
                              "label": "Email address"
                            }
                          },
                          {
                            "name": "bcc",
                            "type": "array",
                            "label": "Blind copy recipient",
                            "spec": {
                              "name": "value",
                              "type": "email",
                              "label": "Email address"
                            }
                          },
                          {
                            "name": "from",
                            "type": "text",
                            "label": "From"
                          },
                          {
                            "name": "sender",
                            "type": "text",
                            "label": "Sender"
                          },
                          {
                            "name": "replyTo",
                            "type": "text",
                            "label": "Reply-To"
                          },
                          {
                            "name": "inReplyTo",
                            "type": "text",
                            "label": "In-Reply-To"
                          },
                          {
                            "name": "references",
                            "type": "array",
                            "label": "References",
                            "spec": {
                              "type": "text",
                              "label": "Reference",
                              "required": true,
                              "name": "value"
                            }
                          },
                          {
                            "name": "priority",
                            "type": "select",
                            "label": "Priority",
                            "validate": {
                              "enum": [
                                "high",
                                "normal",
                                "low"
                              ]
                            }
                          },
                          {
                            "name": "headers",
                            "type": "array",
                            "label": "Headers",
                            "spec": [
                              {
                                "name": "key",
                                "label": "Key",
                                "type": "text",
                                "required": true
                              },
                              {
                                "name": "value",
                                "label": "Value",
                                "type": "text",
                                "required": true
                              }
                            ]
                          },
                          {
                            "name": "html",
                            "type": "text",
                            "label": "Content"
                          }
                        ]
                      }
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "metadata": {
    "instant": false,
    "version": 1,
    "scenario": {
      "roundtrips": 1,
      "maxErrors": 3,
      "autoCommit": true,
      "autoCommitTriggerLast": true,
      "sequential": false,
      "slots": null,
      "confidential": false,
      "dataloss": false,
      "dlq": false,
      "freshVariables": false
    },
    "designer": {
      "orphans": []
    },
    "zone": "eu2.make.com",
    "notes": []
  }
}